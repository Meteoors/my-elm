webpackJsonp([17],{"75y+":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("pF/P"),n=s.n(a);for(var i in a)"default"!==i&&function(e){s.d(t,e,function(){return a[e]})}(i);var r=s("kIpH");var o=function(e){s("76mN")},p=s("VU/8")(n.a,r.a,!1,o,"data-v-845f1476",null);t.default=p.exports},"76mN":function(e,t){},kIpH:function(e,t,s){"use strict";var a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"add"}},[s("head-top",{attrs:{"go-back":"true","head-title":"新增地址"}}),e._v(" "),s("section",{staticClass:"form"},[s("div",{staticClass:"input_wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],class:{borderColor:e.nameTip},attrs:{type:"text",placeholder:"请填写你的姓名"},domProps:{value:e.name},on:{input:[function(t){t.target.composing||(e.name=t.target.value)},e.checkName]}}),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.nameTip,expression:"nameTip"}]},[e._v(e._s(e.nameTip))])]),e._v(" "),s("router-link",{attrs:{to:"/profile/info/address/add/addDetail"}},[s("div",{staticClass:"input_wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.building,expression:"building"}],attrs:{type:"text",placeholder:"小区/写字楼/学校等"},domProps:{value:e.building},on:{input:function(t){t.target.composing||(e.building=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"input_wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],class:{borderColor:e.addressTip},attrs:{type:"text",placeholder:"请填写详细送餐地址"},domProps:{value:e.address},on:{input:[function(t){t.target.composing||(e.address=t.target.value)},e.checkAddress]}}),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.addressTip,expression:"addressTip"}]},[e._v(e._s(e.addressTip))])]),e._v(" "),s("div",{staticClass:"input_wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],class:{borderColor:e.phoneTip},attrs:{type:"text",placeholder:"请填写能够联系到您的手机号"},domProps:{value:e.phone},on:{input:[function(t){t.target.composing||(e.phone=t.target.value)},e.checkPhone]}}),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.phoneTip,expression:"phoneTip"}]},[e._v(e._s(e.phoneTip))])]),e._v(" "),s("div",{staticClass:"input_wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.exPhone,expression:"exPhone"}],class:{borderColor:e.exPhoneTip},attrs:{type:"text",placeholder:"备用联系电话（选填）"},domProps:{value:e.exPhone},on:{input:[function(t){t.target.composing||(e.exPhone=t.target.value)},e.checkExPhone]}}),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.exPhoneTip,expression:"exPhoneTip"}]},[e._v(e._s(e.exPhoneTip))])])],1),e._v(" "),s("div",{staticClass:"btn",on:{click:e.verify}},[s("span",{class:{active:e.name&&e.address&&e.phone&&!e.phoneTip}},[e._v("新增地址")])]),e._v(" "),s("alert-tip",{directives:[{name:"show",rawName:"v-show",value:e.showAlert,expression:"showAlert"}],attrs:{alertText:e.alertText},on:{closeTip:e.closeTip}}),e._v(" "),s("transition",{attrs:{name:"slide"}},[s("router-view")],1)],1)},staticRenderFns:[]};t.a=a},"pF/P":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(s("Xxa5")),n=l(s("exGp")),i=l(s("Dd8w")),r=l(s("vGpu")),o=l(s("ib+B")),p=s("NYxO"),d=s("i84Q");function l(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{name:"",nameTip:"",address:"",addressTip:"",phone:"",phoneTip:"",exPhone:"",exPhoneTip:"",alertText:"",showAlert:!1}},components:{headTop:r.default,alertTip:o.default},computed:(0,i.default)({},(0,p.mapState)(["building","userInfo","geohash"])),methods:(0,i.default)({},(0,p.mapMutations)(["SAVE_ADDRESS"]),{checkName:function(){""==this.name?this.nameTip="请填写您的姓名":this.nameTip=""},checkAddress:function(){""==this.address?this.addressTip="请填写详细送餐地址":this.address.length<3?this.addressTip="送餐地址太短了，不能辨识":this.addressTip=""},checkPhone:function(){""==this.phone?this.phoneTip="手机号不能为空":/^[1][358][0-9]{9}$/.test(this.phone)?this.phoneTip="":this.phoneTip="请输入正确的手机号"},checkExPhone:function(){/^[1][358][0-9]{9}$/.test(this.exPhone)||""==this.exPhone?this.exPhoneTip="":this.exPhoneTip="请输入正确的手机号"},checkBuilding:function(){""==this.building&&(this.alertText="请填写收货地址！",this.showAlert=!0)},closeTip:function(){this.showAlert=!1},verify:function(){var e=this;return(0,n.default)(a.default.mark(function t(){var s,n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.checkName(),e.checkBuilding(),e.checkAddress(),e.checkPhone(),!e.building||e.nameTip||e.addressTip||e.phoneTip||e.exPhoneTip){t.next=19;break}return t.next=7,(0,d.postAddress)(e.userInfo.id,e.address,e.building,e.geohash,e.name,e.phone,e.exPhone);case 7:if(!(s=t.sent).message){t.next=13;break}e.showAlert=!0,e.alertText=s.message,t.next=19;break;case 13:if(1!=s.status){t.next=19;break}return t.next=16,(0,d.getAddress)(e.userInfo.id);case 16:n=t.sent,e.SAVE_ADDRESS(n),e.$router.go(-1);case 19:case"end":return t.stop()}},t,e)}))()}})}}});
//# sourceMappingURL=17.890b311ab0203698d1c7.js.map