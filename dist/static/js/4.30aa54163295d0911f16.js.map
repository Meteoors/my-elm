{"version":3,"sources":["webpack:///src/page/food/food.vue","webpack:///./src/page/food/food.vue?6ba6","webpack:///./src/components/common/shoplist.vue?1380","webpack:///./src/components/common/shoplist.vue","webpack:///src/components/common/shoplist.vue","webpack:///./src/page/food/food.vue","webpack:///./src/components/common/mixin.js"],"names":["__webpack_require__","_vuex","_getData","_mixin","data","headTitle","sortBy","foodTitle","category","categoryDetail","activity","delivery","restaurant_category_id","restaurant_category_ids","sortByType","delivery_mode","supports_ids","filterNum","confirmStatus","created","this","init","computed","_extends3","default","mapState","components","headTop","_header2","shopList","_shoplist2","mixins","getImgPath","methods","_this","_asyncToGenerator3","_regenerator2","mark","_callee","res","wrap","_context","prev","next","categoryData","sortBytype","$route","query","title","foodCategory","latitude","longitude","sent","forEach","item","index","arr","name","cut","splice","unshift","id","sub_categories","foodDelivery","foodActivity","stop","chooseType","type","chooseCategory","changeCategoryIds","chooseSortType","event","currentTarget","getAttribute","chooseDelivery","chooseActivity","status","clearSelect","confirmSelect","watch","newVal","oldVal","document","getElementsByTagName","className","body","esExports","render","_vm","_h","$createElement","_c","_self","attrs","go-back","head-title","_v","staticClass","on","touchmove","$event","preventDefault","click","class","_s","width","height","xmlns","version","points","directives","rawName","value","expression","_l","key","category_active","stopPropagation","src","image_url","_e","count","d","stroke","stroke-width","fill","category_right_chosen","xmlns:xlink","xlink:href","sort_choose","active","text","style","color","icon_color","borderColor","icon_name","restaurantCategoryId","restaurantCategoryIds","deliveryMode","supportsIds","staticRenderFns","__webpack_exports__","shoplist","shop","to","path","geohash","tag","imgBaseUrl","image_path","premium","is_premium","support","score","rating","recent_order_num","intime","supports","float_minimum_order_amount","piecewise_agent_fee","tips","distance","order_lead_time","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_shoplist_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_shoplist_vue___default","n","__WEBPACK_IMPORT_KEY__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6b5752ba_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_shoplist_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","a","_env","props","star","_star2","Array","length","val","console","log","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_food_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_food_vue___default","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_8fcb00c8_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_food_vue__","suffix","indexOf","substr"],"mappings":"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","file":"static/js/4.30aa54163295d0911f16.js","sourcesContent":["<template>\r\n    <div id='food'>\r\n        <head-top go-back='true' :head-title='headTitle'></head-top>\r\n\r\n        <div class='options' @touchmove.prevent>\r\n            <div class='item' @click='chooseType(\"food\")'>\r\n                <div class='item_container' :class='{chooseType: sortBy == \"food\"}'>\r\n                    <div class='item_border'>\r\n                        <span class='item_title'>{{foodTitle}}</span>\r\n                        <svg width=\"10\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" class=\"sort_icon\">\r\n\t\t\t        \t    <polygon points=\"0,3 10,3 5,8\"/>\r\n\t\t\t            </svg>\r\n                    </div>\r\n                </div>\r\n                <transition name='showlist'>\r\n                    <div class='category' v-show='sortBy == \"food\"'>\r\n                        <div class='category_left'>\r\n                            <ul>\r\n                                <li class='category_left_li' :class='{category_active: restaurant_category_id === item.id}' v-for='(item, index) in category' :key='index' @click.stop='chooseCategory(item.id, index, item.name)'>\r\n                                    <div>\r\n                                        <img :src=\"getImgPath(item.image_url)\" v-if='index' class='category_icon'>\r\n                                        <span>{{item.name}}</span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <span class='count' v-if='index'>{{item.count}}</span>\r\n                                        <svg v-if=\"index\" width=\"8\" height=\"8\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" class=\"category_arrow\" >\r\n\t\t\t\t\t\t\t    \t\t\t<path d=\"M0 0 L6 4 L0 8\"  stroke=\"#bbb\" stroke-width=\"1\" fill=\"none\"/>\r\n\t\t\t\t\t\t\t    \t\t</svg>\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class='category_right'>\r\n                            <ul>\r\n                                <li class='category_right_li' :class='{category_right_chosen: restaurant_category_ids == item.id}' v-for='(item, index) in categoryDetail' @click.stop='changeCategoryIds(item.id, item.name)' :key='index' v-if='index'>\r\n                                    <div>{{item.name}}</div>\r\n                                    <div>{{item.count}}</div>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </transition>\r\n            </div>\r\n\r\n            <div class='item' @click='chooseType(\"sort\")'>\r\n                <div class='item_container' :class='{chooseType: sortBy == \"sort\"}'>\r\n                    <div class='item_border'>\r\n                        <span class='item_title'>排序</span>\r\n                        <svg width=\"10\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" class=\"sort_icon\">\r\n\t\t\t        \t    <polygon points=\"0,3 10,3 5,8\"/>\r\n\t\t\t            </svg>\r\n                    </div>                    \r\n                </div>\r\n                <transition name='showlist'>\r\n                    <div class='category sort' v-show='sortBy == \"sort\"'>\r\n                        <ul>\r\n                            <li class='sort_li' @click.stop='chooseSortType($event)' data='0'>\r\n                                <svg>\r\n\t\t\t\t\t\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#default\"></use>\r\n\t\t\t\t\t\t\t\t</svg>\r\n                                <p :class='{sort_choose: sortByType == 0}'>\r\n                                    <span>智能排序</span>\r\n                                    <svg v-if=\"sortByType == 0\">\r\n\t\t\t\t\t\t\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#selected\"></use>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n                                </p>\r\n                            </li>\r\n                            <li class='sort_li' @click.stop='chooseSortType($event)' data='5'>\r\n                                <svg>\r\n\t\t\t\t\t\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#distance\"></use>\r\n\t\t\t\t\t\t\t\t</svg>\r\n                                <p :class='{sort_choose: sortByType == 5}'>\r\n                                    <span>距离最近</span>\r\n                                    <svg v-if=\"sortByType == 5\">\r\n\t\t\t\t\t\t\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#selected\"></use>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n                                </p>\r\n                            </li>\r\n                            <li class='sort_li' @click.stop='chooseSortType($event)' data='6'>\r\n                                <svg>\r\n\t\t\t\t\t\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#hot\"></use>\r\n\t\t\t\t\t\t\t\t</svg>\r\n                                <p :class='{sort_choose: sortByType == 6}'>\r\n                                    <span>销量最高</span>\r\n                                    <svg v-if=\"sortByType == 6\">\r\n\t\t\t\t\t\t\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#selected\"></use>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n                                </p>\r\n                            </li>\r\n                            <li class='sort_li' @click.stop='chooseSortType($event)' data='1'>\r\n                                <svg>\r\n\t\t\t\t\t\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#price\"></use>\r\n\t\t\t\t\t\t\t\t</svg>\r\n                                <p :class='{sort_choose: sortByType == 1}'>\r\n                                    <span>起送价最低</span>\r\n                                    <svg v-if=\"sortByType == 1\">\r\n\t\t\t\t\t\t\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#selected\"></use>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n                                </p>\r\n                            </li>\r\n                            <li class='sort_li' @click.stop='chooseSortType($event)' data='2'>\r\n                                <svg>\r\n\t\t\t\t\t\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#speed\"></use>\r\n\t\t\t\t\t\t\t\t</svg>\r\n                                <p :class='{sort_choose: sortByType == 2}'>\r\n                                    <span>配送速度最快</span>\r\n                                    <svg v-if=\"sortByType == 2\">\r\n\t\t\t\t\t\t\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#selected\"></use>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n                                </p>\r\n                            </li>\r\n                            <li class='sort_li' @click.stop='chooseSortType($event)' data='3'>\r\n                                <svg>\r\n\t\t\t\t\t\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#rating\"></use>\r\n\t\t\t\t\t\t\t\t</svg>\r\n                                <p :class='{sort_choose: sortByType == 3}'>\r\n                                    <span>评分最高</span>\r\n                                    <svg v-if=\"sortByType == 3\">\r\n\t\t\t\t\t\t\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#selected\"></use>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n                                </p>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </transition>\r\n            </div>\r\n\r\n            <div class='item' @click='chooseType(\"activity\")'>\r\n                <div class='item_container' :class='{chooseType: this.sortBy == \"activity\"}'>\r\n                    <span class='item_title'>筛选</span>\r\n                    <svg width=\"10\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" class=\"sort_icon\">\r\n\t\t\t    \t    <polygon points=\"0,3 10,3 5,8\"/>\r\n\t\t            </svg>\r\n                </div>\r\n                <transition name='showlist'>\r\n                    <div class='activity category' v-show='this.sortBy == \"activity\"'>\r\n                        <p class='title'>配送方式</p>\r\n                        <ul>\r\n                            <li class='activity_li' v-for='(item, index) in delivery' :key='index' @click.stop='chooseDelivery(item.id)'>\r\n                                <svg>\r\n                                    <use :xlink:href='delivery_mode == item.id ? \"#selected\":\"#fengniao\"'></use>\r\n                                </svg>\r\n                                <span :class='{active: delivery_mode == item.id}'>{{item.text}}</span>\r\n                            </li>\r\n                        </ul>\r\n                        <p class='title'>商家属性（可以多选）</p>\r\n                        <ul>\r\n                            <li class='activity_li' v-for='(item, index) in activity' :key='index' @click.stop='chooseActivity(index, item.id)'>\r\n                                <span class='icon' :style='{color: \"#\"+ item.icon_color, borderColor: \"#\" + item.icon_color}' v-show='!supports_ids[index].status'>\r\n                                    {{item.icon_name}}\r\n                                </span>\r\n                                <svg v-show='supports_ids[index].status' class='activity_svg'>\r\n                                    <use xlink:href='#selected'></use>\r\n                                </svg>\r\n                                <span :class='{active: supports_ids[index].status}'>{{item.name}}</span>\r\n                            </li>\r\n                        </ul>\r\n                        <div class='btns'>\r\n                            <div class='btn' @click.stop='clearSelect'>清空</div>\r\n                            <div class='btn ensure' @click.stop='confirmSelect'>\r\n                                <span>确定</span>\r\n                                <span v-show='filterNum'>({{filterNum}})</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </transition>\r\n            </div>\r\n        </div>\r\n\r\n        <shop-list \r\n                :restaurantCategoryId='restaurant_category_id' \r\n                :restaurantCategoryIds='restaurant_category_ids' \r\n                :sortByType='sortByType'\r\n                :deliveryMode='delivery_mode'\r\n                :supportsIds='supports_ids'\r\n                :confirmStatus='confirmStatus'\r\n        >\r\n        </shop-list>\r\n\r\n        <transition name='showcover'>\r\n            <div class='cover' v-if='sortBy'></div>\r\n        </transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import headTop from '../../components/head/header';\r\n    import shopList from '../../components/common/shoplist';\r\n    import { mapState } from 'vuex';\r\n    import { foodCategory, foodDelivery, foodActivity } from '../../service/getData';\r\n    import {getImgPath} from '../../components/common/mixin';\r\n\r\n    export default {\r\n        data () {\r\n            return {\r\n                headTitle: '',  //food页标题\r\n                sortBy: '',  //选中选项名\r\n                foodTitle: '',  //分类选项标题\r\n                category: [],   //category分类左侧数据\r\n                categoryDetail: [], //category分类右侧数据\r\n                activity: [],  //商家支持活动数据\r\n                delivery: [],  //配送方式数据\r\n                restaurant_category_id: '', //食品类型id值\r\n                restaurant_category_ids: '',  //筛选类型id值\r\n                sortByType: '',   //排序方式\r\n                delivery_mode: '', //选中的配送方式\r\n                supports_ids: '',  //选中的商铺活动列表\r\n                filterNum: 0,  //配送方式和商家活动选中项总数\r\n                confirmStatus: false\r\n            }\r\n        },\r\n        created () {\r\n            this.init();\r\n        },\r\n        computed: {\r\n            ...mapState([\r\n                'latitude', 'longitude', 'categoryData'\r\n            ])\r\n        },\r\n        components: {\r\n            headTop, shopList\r\n        },\r\n        mixins: [getImgPath],\r\n        methods: {\r\n            async init() {\r\n                this.restaurant_category_id = this.categoryData.restaurant_category_id;\r\n                this.restaurant_category_ids = this.categoryData.restaurant_category_ids;\r\n                this.sortByType = this.categoryData.sortBytype;\r\n                this.delivery_mode = this.categoryData.delivery_mode;\r\n                this.supports_ids = this.categoryData.supports_ids;\r\n\r\n                this.headTitle = this.$route.query.title;\r\n                this.foodTitle = this.headTitle;\r\n                \r\n                //category分类左侧数据\r\n                let res = await foodCategory(this.latitude, this.longitude);\r\n                res.forEach((item, index, arr) => {\r\n                    if(item.name == '全部商家'){\r\n                        let cut = arr.splice(index, 1);\r\n                        arr.unshift(cut[0]);\r\n                    }\r\n                })\r\n                this.category = res;\r\n\r\n                //category分类右侧数据\r\n                this.category.forEach(item => {\r\n                    if(this.restaurant_category_id == item.id){\r\n                        this.categoryDetail = item.sub_categories;\r\n                    }\r\n                })\r\n\r\n                this.delivery = await foodDelivery(this.latitude, this.longitude);\r\n                this.activity = await foodActivity(this.latitude, this.longitude);\r\n            },\r\n            chooseType(type) {\r\n                if(this.sortBy !== type){\r\n                    this.sortBy = type;\r\n                }else{\r\n                    this.sortBy = '';\r\n                }\r\n            },\r\n            chooseCategory(id, index, name) {\r\n                if(index == 0){\r\n                    this.sortBy = '';\r\n                    this.foodTitle = this.headTitle = name;\r\n                    this.restaurant_category_ids = '';\r\n                    this.restaurant_category_id = this.category[1].id\r\n                    this.categoryDetail = this.category[1].sub_categories;\r\n                }else{\r\n                    this.categoryDetail = this.category[index].sub_categories;\r\n                    this.restaurant_category_id = id;\r\n                }\r\n            },\r\n            changeCategoryIds(id, name) {\r\n                this.restaurant_category_ids = id;\r\n                this.sortBy = '';\r\n                this.foodTitle = this.headTitle = name;\r\n            },\r\n            chooseSortType(event) {\r\n                this.sortByType = event.currentTarget.getAttribute('data');\r\n                this.sortBy = '';\r\n            },\r\n            chooseDelivery(id) {\r\n                if(this.delivery_mode == ''){\r\n                    this.delivery_mode = id;\r\n                    this.filterNum++;\r\n                }else{\r\n                    this.delivery_mode = '';\r\n                    this.filterNum--\r\n                }\r\n            },\r\n            chooseActivity(index, id) {\r\n                if(this.supports_ids[index].status){\r\n                    this.filterNum--\r\n                }else{\r\n                    this.filterNum++\r\n                }\r\n\r\n                this.supports_ids[index].status = !this.supports_ids[index].status;                \r\n            },\r\n            clearSelect() {\r\n                this.filterNum = 0;\r\n                this.delivery_mode = '';\r\n                this.supports_ids.forEach(item => {\r\n                    item.status = false;\r\n                })\r\n            },\r\n            confirmSelect() {\r\n                this.confirmStatus = !this.confirmStatus;\r\n                this.sortBy = '';\r\n            }\r\n        },\r\n        watch: {\r\n            sortBy: function(newVal, oldVal){\r\n                if(newVal) {\r\n                    // let cssStr = 'overflow: hidden; height: 100%;';\r\n                    // document.getElementsByTagName('html')[0].style.cssText += cssStr\r\n                    document.getElementsByTagName('html')[0].className = 'noScroll';\r\n                    document.body.className = 'noScroll';\r\n                }else{\r\n                    document.getElementsByTagName('html')[0].className = '';\r\n                    document.body.className = '';\r\n                }\r\n                \r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n    @import '../../style/mixin';\r\n\r\n    #food{\r\n        padding-top: 3.5rem;\r\n        background: #fff;\r\n        .options{\r\n            color: #fff;\r\n            display: flex;\r\n            border-bottom: 1px solid #f1f1f1;\r\n            height: 1.65rem;\r\n            position: fixed;\r\n            left: 0;\r\n            top: 1.9rem;\r\n            width: 100%;\r\n            z-index: 16;\r\n            .item{\r\n                width: 33.3%;\r\n                flex: 1;\r\n                .item_container{\r\n                    padding: .3rem 0;\r\n                    font-size: .6rem;\r\n                    position: relative;\r\n                    z-index: 17;\r\n                    background: #fff;\r\n                    text-align: center;\r\n                    line-height: 1rem;\r\n                    .item_border{\r\n                        border-right: .5px solid $bc;                        \r\n                    }\r\n                    .sort_icon{\r\n                        transition: all .3s;\r\n                        fill: #666;\r\n                    }\r\n                }\r\n                .chooseType{\r\n                    .item_title{\r\n                        color: $blue;\r\n                    }\r\n                    .sort_icon{\r\n                        fill: $blue;\r\n                        transform: rotate(180deg);\r\n                    }\r\n                }\r\n\r\n                .showlist-enter-active, .showlist-leave-active{\r\n                    transition: all .3s;\r\n                    transform: translateY(0);\r\n                }\r\n                .showlist-enter, .showlist-leave-to{\r\n                    opacity: 0;\r\n                    transform: translateY(-100%);\r\n                }\r\n                .category{\r\n                    position: absolute;\r\n                    top: 1.6rem;\r\n                    left: 0;\r\n                    width: 100%;\r\n                    display: flex;\r\n                    border-top: 1px solid $bc;\r\n                    z-index: 12;\r\n                    .category_left{\r\n                        background: #f1f1f1;\r\n                        flex: 1;\r\n                        height: 16rem;\r\n                        overflow: auto;\r\n                        li{\r\n                            display: flex;\r\n                            justify-content: space-between;\r\n                            padding: 0 .5rem;\r\n                            .category_icon{\r\n                                height: .8rem;\r\n                                width: .8rem;\r\n                                vertical-align: middle;\r\n                                margin-right: .2rem;\r\n                            }\r\n                            span{\r\n                                font-size: .6rem;\r\n                                color: #666;\r\n                                line-height: 1.8rem;\r\n                            }\r\n                            .count{\r\n                                padding: 0 .1rem;\r\n                                color: #fff;\r\n                                background: #ccc;\r\n                                border-radius: .8rem;\r\n                                border: .025rem solid #ccc;\r\n                                font-size: .6rem;\r\n                                margin-right: .25rem;\r\n                                vertical-align: middle;\r\n                            }\r\n                            .category_arrow{\r\n                                vertical-align: middle;\r\n                            }\r\n                        }\r\n                        .category_active{\r\n                            background: #fff;\r\n                        }\r\n                    }\r\n                    .category_right{\r\n                        flex: 1;\r\n                        padding-left: .5rem;\r\n                        height: 16rem;\r\n                        overflow: auto;\r\n                        background: #fff;\r\n                        li{\r\n                            display: flex;\r\n                            justify-content: space-between;\r\n                            height: 1.8rem;\r\n                            line-height: 1.8rem;\r\n                            border-bottom: 1px solid $bc;\r\n                            font-size: .6rem;\r\n                            padding-right: .5rem;\r\n                            div{\r\n                                color: #666;\r\n                            }\r\n                        }\r\n                        .category_right_chosen{\r\n                            div{\r\n                                color: $blue;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                .sort{\r\n                    display: block;\r\n                    background: #fff;\r\n                    .sort_li{\r\n                        display: flex;\r\n                        align-items: center;\r\n                        svg{\r\n                            @include wh(.7rem, .7rem);\r\n                            margin: 0 .3rem 0 .8rem;\r\n                        }\r\n                        p{\r\n                            height: 2.5rem;\r\n                            line-height: 2.5rem;\r\n                            border-bottom: 1px solid $bc;\r\n                            flex: 1;\r\n                            display: flex;\r\n                            justify-content: space-between;\r\n                            align-items: center;\r\n                            padding-left: .2rem;\r\n                            span{\r\n                                color: #666;\r\n                                font-size: .6rem;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                .activity{\r\n                    background: #fff;\r\n                    padding-top: .5rem;\r\n                    display: block; \r\n                    p{\r\n                        padding-left: .5rem;\r\n                        font-size: .6rem;\r\n                        line-height: .6rem;\r\n                    }\r\n                    ul{\r\n                        padding: .4rem 0 .5rem .5rem;\r\n                        display: flex;\r\n                        flex-wrap: wrap;\r\n                        li{\r\n                            display: flex;\r\n                            align-items: center;\r\n                            border: .025rem solid #f1f1f1;\r\n                            border-radius:.125rem;\r\n                            margin-bottom: .25rem;\r\n                            margin-right: .25rem;  \r\n                            padding-left: .25rem; \r\n                            width: 4.7rem;\r\n                            height: 1.4rem;\r\n                            .icon{\r\n                                font-size: .6rem;\r\n                                border: .025rem solid $bc;\r\n                                border-radius: .15rem;\r\n                                width: 0.8rem;\r\n                                text-align: center;\r\n                                line-height: .8rem;\r\n                                margin-right: .25rem;\r\n                            }\r\n                            span{\r\n                                font-size: .6rem;\r\n                            }\r\n                            .active{\r\n                                color: $blue;\r\n                            }\r\n                            svg{\r\n                                @include wh(.8rem, .8rem);\r\n                                margin-right: .25rem;\r\n                            }\r\n                        }\r\n                    }\r\n                    .btns{\r\n                        background: #f1f1f1;\r\n                        padding: .3rem .2rem;\r\n                        display: flex;\r\n                        .btn{\r\n                            flex: 1;\r\n                            height: 1.8rem;\r\n                            line-height: 1.8rem;\r\n                            font-size: .8rem;\r\n                            border-radius: .2rem;\r\n                            text-align: center;\r\n                            background: #fff;\r\n                        }\r\n                        .ensure{\r\n                            background: #56d176;\r\n                            margin-left: .5rem;\r\n                            span{\r\n                                color: #fff;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .cover{\r\n            position: fixed;\r\n            left: 0;\r\n            right: 0;\r\n            top: 0;\r\n            bottom: 0;\r\n            z-index: 10;\r\n            background: rgba(0,0,0,0.3);\t\r\n        }\r\n    }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/food/food.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"food\"}},[_c('head-top',{attrs:{\"go-back\":\"true\",\"head-title\":_vm.headTitle}}),_vm._v(\" \"),_c('div',{staticClass:\"options\",on:{\"touchmove\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"item\",on:{\"click\":function($event){_vm.chooseType(\"food\")}}},[_c('div',{staticClass:\"item_container\",class:{chooseType: _vm.sortBy == \"food\"}},[_c('div',{staticClass:\"item_border\"},[_c('span',{staticClass:\"item_title\"},[_vm._v(_vm._s(_vm.foodTitle))]),_vm._v(\" \"),_c('svg',{staticClass:\"sort_icon\",attrs:{\"width\":\"10\",\"height\":\"10\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\"}},[_c('polygon',{attrs:{\"points\":\"0,3 10,3 5,8\"}})])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"showlist\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sortBy == \"food\"),expression:\"sortBy == \\\"food\\\"\"}],staticClass:\"category\"},[_c('div',{staticClass:\"category_left\"},[_c('ul',_vm._l((_vm.category),function(item,index){return _c('li',{key:index,staticClass:\"category_left_li\",class:{category_active: _vm.restaurant_category_id === item.id},on:{\"click\":function($event){$event.stopPropagation();_vm.chooseCategory(item.id, index, item.name)}}},[_c('div',[(index)?_c('img',{staticClass:\"category_icon\",attrs:{\"src\":_vm.getImgPath(item.image_url)}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.name))])]),_vm._v(\" \"),_c('div',[(index)?_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(item.count))]):_vm._e(),_vm._v(\" \"),(index)?_c('svg',{staticClass:\"category_arrow\",attrs:{\"width\":\"8\",\"height\":\"8\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\"}},[_c('path',{attrs:{\"d\":\"M0 0 L6 4 L0 8\",\"stroke\":\"#bbb\",\"stroke-width\":\"1\",\"fill\":\"none\"}})]):_vm._e()])])}))]),_vm._v(\" \"),_c('div',{staticClass:\"category_right\"},[_c('ul',_vm._l((_vm.categoryDetail),function(item,index){return (index)?_c('li',{key:index,staticClass:\"category_right_li\",class:{category_right_chosen: _vm.restaurant_category_ids == item.id},on:{\"click\":function($event){$event.stopPropagation();_vm.changeCategoryIds(item.id, item.name)}}},[_c('div',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(item.count))])]):_vm._e()}))])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"item\",on:{\"click\":function($event){_vm.chooseType(\"sort\")}}},[_c('div',{staticClass:\"item_container\",class:{chooseType: _vm.sortBy == \"sort\"}},[_c('div',{staticClass:\"item_border\"},[_c('span',{staticClass:\"item_title\"},[_vm._v(\"排序\")]),_vm._v(\" \"),_c('svg',{staticClass:\"sort_icon\",attrs:{\"width\":\"10\",\"height\":\"10\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\"}},[_c('polygon',{attrs:{\"points\":\"0,3 10,3 5,8\"}})])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"showlist\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sortBy == \"sort\"),expression:\"sortBy == \\\"sort\\\"\"}],staticClass:\"category sort\"},[_c('ul',[_c('li',{staticClass:\"sort_li\",attrs:{\"data\":\"0\"},on:{\"click\":function($event){$event.stopPropagation();_vm.chooseSortType($event)}}},[_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#default\"}})]),_vm._v(\" \"),_c('p',{class:{sort_choose: _vm.sortByType == 0}},[_c('span',[_vm._v(\"智能排序\")]),_vm._v(\" \"),(_vm.sortByType == 0)?_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#selected\"}})]):_vm._e()])]),_vm._v(\" \"),_c('li',{staticClass:\"sort_li\",attrs:{\"data\":\"5\"},on:{\"click\":function($event){$event.stopPropagation();_vm.chooseSortType($event)}}},[_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#distance\"}})]),_vm._v(\" \"),_c('p',{class:{sort_choose: _vm.sortByType == 5}},[_c('span',[_vm._v(\"距离最近\")]),_vm._v(\" \"),(_vm.sortByType == 5)?_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#selected\"}})]):_vm._e()])]),_vm._v(\" \"),_c('li',{staticClass:\"sort_li\",attrs:{\"data\":\"6\"},on:{\"click\":function($event){$event.stopPropagation();_vm.chooseSortType($event)}}},[_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#hot\"}})]),_vm._v(\" \"),_c('p',{class:{sort_choose: _vm.sortByType == 6}},[_c('span',[_vm._v(\"销量最高\")]),_vm._v(\" \"),(_vm.sortByType == 6)?_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#selected\"}})]):_vm._e()])]),_vm._v(\" \"),_c('li',{staticClass:\"sort_li\",attrs:{\"data\":\"1\"},on:{\"click\":function($event){$event.stopPropagation();_vm.chooseSortType($event)}}},[_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#price\"}})]),_vm._v(\" \"),_c('p',{class:{sort_choose: _vm.sortByType == 1}},[_c('span',[_vm._v(\"起送价最低\")]),_vm._v(\" \"),(_vm.sortByType == 1)?_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#selected\"}})]):_vm._e()])]),_vm._v(\" \"),_c('li',{staticClass:\"sort_li\",attrs:{\"data\":\"2\"},on:{\"click\":function($event){$event.stopPropagation();_vm.chooseSortType($event)}}},[_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#speed\"}})]),_vm._v(\" \"),_c('p',{class:{sort_choose: _vm.sortByType == 2}},[_c('span',[_vm._v(\"配送速度最快\")]),_vm._v(\" \"),(_vm.sortByType == 2)?_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#selected\"}})]):_vm._e()])]),_vm._v(\" \"),_c('li',{staticClass:\"sort_li\",attrs:{\"data\":\"3\"},on:{\"click\":function($event){$event.stopPropagation();_vm.chooseSortType($event)}}},[_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#rating\"}})]),_vm._v(\" \"),_c('p',{class:{sort_choose: _vm.sortByType == 3}},[_c('span',[_vm._v(\"评分最高\")]),_vm._v(\" \"),(_vm.sortByType == 3)?_c('svg',[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#selected\"}})]):_vm._e()])])])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"item\",on:{\"click\":function($event){_vm.chooseType(\"activity\")}}},[_c('div',{staticClass:\"item_container\",class:{chooseType: this.sortBy == \"activity\"}},[_c('span',{staticClass:\"item_title\"},[_vm._v(\"筛选\")]),_vm._v(\" \"),_c('svg',{staticClass:\"sort_icon\",attrs:{\"width\":\"10\",\"height\":\"10\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\"}},[_c('polygon',{attrs:{\"points\":\"0,3 10,3 5,8\"}})])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"showlist\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.sortBy == \"activity\"),expression:\"this.sortBy == \\\"activity\\\"\"}],staticClass:\"activity category\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"配送方式\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.delivery),function(item,index){return _c('li',{key:index,staticClass:\"activity_li\",on:{\"click\":function($event){$event.stopPropagation();_vm.chooseDelivery(item.id)}}},[_c('svg',[_c('use',{attrs:{\"xlink:href\":_vm.delivery_mode == item.id ? \"#selected\":\"#fengniao\"}})]),_vm._v(\" \"),_c('span',{class:{active: _vm.delivery_mode == item.id}},[_vm._v(_vm._s(item.text))])])})),_vm._v(\" \"),_c('p',{staticClass:\"title\"},[_vm._v(\"商家属性（可以多选）\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.activity),function(item,index){return _c('li',{key:index,staticClass:\"activity_li\",on:{\"click\":function($event){$event.stopPropagation();_vm.chooseActivity(index, item.id)}}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.supports_ids[index].status),expression:\"!supports_ids[index].status\"}],staticClass:\"icon\",style:({color: \"#\"+ item.icon_color, borderColor: \"#\" + item.icon_color})},[_vm._v(\"\\n                                    \"+_vm._s(item.icon_name)+\"\\n                                \")]),_vm._v(\" \"),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports_ids[index].status),expression:\"supports_ids[index].status\"}],staticClass:\"activity_svg\"},[_c('use',{attrs:{\"xlink:href\":\"#selected\"}})]),_vm._v(\" \"),_c('span',{class:{active: _vm.supports_ids[index].status}},[_vm._v(_vm._s(item.name))])])})),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.clearSelect($event)}}},[_vm._v(\"清空\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn ensure\",on:{\"click\":function($event){$event.stopPropagation();return _vm.confirmSelect($event)}}},[_c('span',[_vm._v(\"确定\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.filterNum),expression:\"filterNum\"}]},[_vm._v(\"(\"+_vm._s(_vm.filterNum)+\")\")])])])])])],1)]),_vm._v(\" \"),_c('shop-list',{attrs:{\"restaurantCategoryId\":_vm.restaurant_category_id,\"restaurantCategoryIds\":_vm.restaurant_category_ids,\"sortByType\":_vm.sortByType,\"deliveryMode\":_vm.delivery_mode,\"supportsIds\":_vm.supports_ids,\"confirmStatus\":_vm.confirmStatus}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"showcover\"}},[(_vm.sortBy)?_c('div',{staticClass:\"cover\"}):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8fcb00c8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/food/food.vue\n// module id = 4ssL\n// module chunks = 4","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shoplist\"},[(_vm.shoplist.length)?_c('ul',{staticClass:\"shop_ul\"},_vm._l((_vm.shoplist),function(shop,index){return _c('router-link',{key:index,staticClass:\"shop_li\",attrs:{\"to\":{path: \"/shop\", query:{geohash: _vm.geohash, id: shop.id}},\"tag\":\"li\"}},[_c('div',{staticClass:\"avator\"},[_c('img',{staticClass:\"shop_img\",attrs:{\"src\":_vm.imgBaseUrl + shop.image_path}})]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"top\"},[_c('h4',{staticClass:\"ellipsis\",class:{premium: shop.is_premium}},[_vm._v(_vm._s(shop.name))]),_vm._v(\" \"),_c('ul',{staticClass:\"support_ul\"},_vm._l((shop.supports),function(support,index){return _c('li',{key:index,staticClass:\"support_li\"},[_vm._v(\"\\n                            \"+_vm._s(support.icon_name)+\"\\n                        \")])}))]),_vm._v(\" \"),_c('div',{staticClass:\"middle\"},[_c('div',{staticClass:\"left\"},[_c('star',{attrs:{\"score\":shop.rating}}),_vm._v(\" \"),_c('span',{staticClass:\"score\"},[_vm._v(_vm._s(shop.rating))]),_vm._v(\" \"),_c('div',{staticClass:\"sell\"},[_vm._v(\"月售\"+_vm._s(shop.recent_order_num)+\"单\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[(shop.delivery_mode)?_c('span',{staticClass:\"delivery\"},[_vm._v(_vm._s(shop.delivery_mode.text))]):_vm._e(),_vm._v(\" \"),(_vm.intime(shop.supports))?_c('span',{staticClass:\"intime\"},[_vm._v(\"准时达\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"￥\"+_vm._s(shop.float_minimum_order_amount)+\"起送/\"+_vm._s(shop.piecewise_agent_fee.tips)+\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('span',{staticClass:\"distance\"},[_vm._v(_vm._s(shop.distance)+\"/\")]),_vm._v(\" \"),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(shop.order_lead_time))])])])])])})):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"no_more\"},[_vm._v(\"没有更多了\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b5752ba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/shoplist.vue\n// module id = DBs8\n// module chunks = 3 4","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b5752ba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shoplist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shoplist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shoplist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b5752ba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shoplist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6b5752ba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/shoplist.vue\n// module id = RA/b\n// module chunks = 3 4","<template>\r\n    <div class='shoplist'>\r\n        <ul class='shop_ul' v-if='shoplist.length'>\r\n            <router-link :to='{path: \"/shop\", query:{geohash, id: shop.id}}' v-for='(shop, index) in shoplist' :key='index' tag='li' class='shop_li'>\r\n                <div class='avator'>\r\n                    <img :src=\"imgBaseUrl + shop.image_path\" class='shop_img'>\r\n                </div>\r\n                <div class='detail'>\r\n                    <div class='top'>\r\n                        <h4 class='ellipsis' :class=\"{premium: shop.is_premium}\">{{shop.name}}</h4>\r\n                        <ul class='support_ul'>\r\n                            <li class='support_li' v-for='(support, index) in shop.supports' :key='index'>\r\n                                {{support.icon_name}}\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class='middle'>\r\n                        <div class='left'>\r\n                            <star :score='shop.rating'></star>\r\n                            <span class='score'>{{shop.rating}}</span>\r\n                            <div class='sell'>月售{{shop.recent_order_num}}单</div>\r\n                        </div>\r\n                        <div class='right'>\r\n                            <span class='delivery' v-if='shop.delivery_mode'>{{shop.delivery_mode.text}}</span>\r\n                            <span class='intime' v-if='intime(shop.supports)'>准时达</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class='bottom'>\r\n                        <div class='left'>￥{{shop.float_minimum_order_amount}}起送/{{shop.piecewise_agent_fee.tips}} </div>\r\n                        <div class='right'>\r\n                            <span class='distance'>{{shop.distance}}/</span>\r\n                            <span class='time'>{{shop.order_lead_time}}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </router-link>\r\n        </ul>\r\n        <div class='no_more'>没有更多了</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {shopList} from '../../service/getData'\r\n    import {imgBaseUrl} from '../../config/env'\r\n    import {mapState} from 'vuex'\r\n    import star from './star'\r\n\r\n    export default {\r\n        data () {\r\n            return {\r\n                shoplist: [],  //店铺列表数据\r\n                imgBaseUrl\r\n            }\r\n        },\r\n        created () {\r\n            this.init();    //此时父组件msite可能还未将longitude、latitude存入vuex，导致不能正确获得shoplist数据\r\n                            //解决方法是用侦听器watch监视vuex里属性的变化，并重新获取数据\r\n        },\r\n        props: ['geohash', 'restaurantCategoryId', 'restaurantCategoryIds', 'sortByType', 'deliveryMode', 'supportsIds', 'confirmStatus'],\r\n        components: {\r\n            star\r\n        },\r\n        computed: {\r\n            ...mapState([\r\n                'longitude', 'latitude'\r\n            ])\r\n        },\r\n        methods: {\r\n            async init () {\r\n                // if (!this.latitude||!this.longitude) return;    //先判断经纬度是否为空再请求数据\r\n                \r\n                let res = await shopList(this.latitude, this.longitude, this.restaurantCategoryId, this.restaurantCategoryIds, this.sortByType, this.deliveryMode, this.supportsIds);\r\n                this.shoplist = res;\r\n            },\r\n            intime (supports) {\r\n                let intime = false;\r\n                if (supports instanceof Array && supports.length){\r\n                    supports.forEach(support => {\r\n                        if(support.icon_name === '准'){\r\n                            intime = true;\r\n                        }\r\n                    })\r\n                }\r\n                return intime;\r\n            }\r\n        },\r\n        watch: {\r\n            longitude: function(val){   //longitude变化时重新获取数据\r\n                console.log(1);\r\n                this.init();\r\n            },\r\n            restaurantCategoryIds: function(val){\r\n                this.init();\r\n            },\r\n            sortByType: function(val){\r\n                this.init();\r\n            },\r\n            confirmStatus: function(val){\r\n                this.init();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n    @import '../../style/mixin';\r\n\r\n    .shoplist{\r\n        background-color: #fff;\r\n        margin-bottom: 2rem;\r\n        position: relative;\r\n        z-index: 0;\r\n        .shop_ul{\r\n            .shop_li{\r\n                padding: .7rem .4rem;\r\n                border-bottom: 1px solid $bc;\r\n                display: flex;\r\n                .avator{\r\n                    .shop_img{\r\n                        @include wh(2.7rem, 2.7rem);\r\n                        margin-right: .4rem;\r\n                    }\r\n                }\r\n                .detail{\r\n                    flex: 1;\r\n                    .top{\r\n                        display: flex;\r\n                        justify-content: space-between;\r\n                        align-items: center;\r\n                        margin-bottom: .5rem;\r\n                        h4{\r\n                            width:8.5rem;\r\n                            @include font(0.65rem, 0.65rem, 'PingFangSC-Regular');  //记得添加mixin\r\n                            font-weight: 700;\r\n                            color:#333;\r\n                        }\r\n                        .premium:before{\r\n                            content: '品牌';\r\n                            display: inline-block;\r\n                            color: #333;\r\n                            font-size: 0.6rem;\r\n                            background-color: #ffd930;\r\n                            height: .65rem;\r\n                            margin-right: .2rem;\r\n                            padding: 0.05rem 0.1rem;\r\n                        }\r\n                        .support_ul{\r\n                            display: flex;\r\n                            margin-right: -.3rem;\r\n                            transform: scale(.8);\r\n                            .support_li{\r\n                                font-size: .5rem;\r\n                                color: #999;\r\n                                padding: 0 0.05rem;\r\n                                border: 1px solid #999;\r\n                                margin-left: 0.1rem;\r\n                                border-radius: .08rem;\r\n                            }\r\n                        }\r\n                    }\r\n                    .middle{\r\n                        display: flex;\r\n                        justify-content: space-between;\r\n                        align-items: center;\r\n                        margin-bottom: .4rem;\r\n                        height: .6rem;\r\n                        .left{\r\n                            display: flex;\r\n                            align-items: center;\r\n                            .score{\r\n                                font-size: .4rem;\r\n                                color: #ff6000;\r\n                                margin: 0 .2rem; \r\n                            }\r\n                            .sell{\r\n                                margin-left: -0.25rem; \r\n                                font-size: .4rem;\r\n                                color: #666;\r\n                                transform: scale(.83);\r\n                            }\r\n                        }\r\n                        .right{\r\n                            display: flex;\r\n                            align-items: center;\r\n                            margin-right: -.8rem;\r\n                            transform: scale(.7);\r\n                            span{\r\n                                border: 1px solid $blue;\r\n                                font-size: .4rem;\r\n                                padding: .04rem .08rem 0;\r\n                                border-radius: .08rem;\r\n                                margin-left: .08rem;\r\n                            }\r\n                            .delivery{\r\n                                background: $blue;\r\n                                color: #fff;\r\n                            }\r\n                            .intime{\r\n                                color: $blue;\r\n                            }\r\n                        }\r\n                    }\r\n                    .bottom{\r\n                        display: flex;\r\n                        justify-content: space-between;\r\n                        align-items: center;\r\n                        margin-left: -0.2rem;                        \r\n                        .left{\r\n                            font-size: .6rem;\r\n                            color: #666;\r\n                            transform: scale(.9);\r\n                        }\r\n                        .right{\r\n                            font-size: .6rem;\r\n                            transform: scale(.9);\r\n                            margin-right: -.25rem;\r\n                            .distance{\r\n                                color: #999;\r\n                            }\r\n                            .time{\r\n                                color: $blue;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .no_more{\r\n            height: 1.9rem;\r\n            line-height: 1.9rem;\r\n            text-align: center;\r\n            font-size: 0.6rem;\r\n            color: #666;\r\n        }\r\n    }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/shoplist.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8fcb00c8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./food.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./food.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./food.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8fcb00c8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./food.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8fcb00c8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/food/food.vue\n// module id = fHOz\n// module chunks = 4","export const getImgPath = {\r\n    methods:{\r\n        getImgPath(path) {\r\n            if(!path){\r\n                return '//elm.cangdu.org/img/default.jpg'\r\n            }\r\n            let suffix;\r\n            if(path.indexOf('jpeg') !== -1){\r\n                suffix = '.jpeg';\r\n            }else{\r\n                suffix = '.png'\r\n            }            \r\n            let url = '/' + path.substr(0,1) + '/' + path.substr(1,2) + '/' + path.substr(3) + suffix;\r\n            return 'https://fuss10.elemecdn.com' + url\r\n        }\r\n    }\r\n}\r\n\r\n// export const loadMore = {\r\n//     directives: {\r\n//         'load-more': {\r\n//             bind: (el, loading) => {\r\n//                 let windowHeight = window.screen.height;\r\n                \r\n//                 el.addEventListener('touchstart', )\r\n//             }\r\n//         }\r\n//     }\r\n// }\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/mixin.js"],"sourceRoot":""}