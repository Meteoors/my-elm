{"version":3,"sources":["webpack:///src/components/common/computeTime.vue","webpack:///./src/components/common/computeTime.vue?a9ff","webpack:///./src/components/common/computeTime.vue","webpack:///./src/page/order/order.vue","webpack:///./src/page/order/order.vue?4d65","webpack:///src/page/order/order.vue"],"names":["_alert","__webpack_require__","data","countNum","showAlert","alertText","props","created","this","time","computeTime","components","alertTip","_alert2","default","computed","remainTime","min","Math","floor","sec","methods","_this","timer","setInterval","clearInterval","$emit","pay","esExports","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","_s","attrs","closeTip","$event","_e","staticRenderFns","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_computeTime_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_computeTime_vue___default","n","__WEBPACK_IMPORT_KEY__","key","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_364a9287_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_computeTime_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","a","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_order_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_order_vue___default","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5a7d07e2_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_order_vue__","id","go-back","head-title","_l","order","index","src","imgBaseUrl","restaurant_image_url","showDetail","restaurant_name","fill","xlink:href","paymentStatus","formatted_created_at","basket","group","name","length","total_amount","toFixed","time_pass","changePayment","nativeOn","stopPropagation","to","path","query","geohash","restaurant_id","tag","parent","_getData","_vuex","_env","orderlist","init","headTop","_header2","footGuide","_footer2","_computeTime2","_extends3","mapState","mapMutations","_asyncToGenerator3","_regenerator2","mark","_callee","wrap","_context","prev","next","userInfo","orderList","user_id","sent","map","item","status_bar","title","stop","SAVE_ORDERDETAIL","$router","push","watch"],"mappings":"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","file":"static/js/5.c586f45e753b72b94717.js","sourcesContent":["<template>\r\n    <div class='compute_time'>\r\n        <span class='remain_time' @click='pay'>\r\n            {{remainTime}}\r\n        </span>\r\n        <alert-tip v-if='showAlert' :alertText='alertText' @closeTip='showAlert = false'></alert-tip>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import alertTip from '../../components/common/alert'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                countNum: 900,  //倒计时15分钟\r\n                showAlert: false,\r\n                alertText: ''\r\n            }\r\n        },\r\n        props: ['time'],\r\n        created () {\r\n            this.countNum -= this.time;\r\n            this.computeTime();\r\n        },\r\n        components: {\r\n            alertTip\r\n        },\r\n        computed: {\r\n            remainTime() {\r\n                let min = Math.floor(this.countNum/60);\r\n                let sec = this.countNum%60;\r\n                if(min < 10){\r\n                    min = '0' + min;\r\n                }\r\n                if(sec < 10){\r\n                    sec = '0' + sec;\r\n                }\r\n                return '去支付(还剩' + min + '分' + sec + '秒)';\r\n            }\r\n        },\r\n        methods: {\r\n            computeTime() {\r\n                this.timer = setInterval(() => {\r\n                    this.countNum --;\r\n                    if(this.countNum == 0){\r\n                        this.showAlert = true;\r\n                        this.alertText = '支付超时';\r\n                        clearInterval(this.timer);\r\n                        this.$emit('changePayment');\r\n                    }\r\n                }, 1000)\r\n            },\r\n            pay() {\r\n                this.showAlert = true;\r\n                this.alertText = '暂不开放支付接口'\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n    .compute_time{\r\n        font-size: 0;\r\n        .remain_time{\r\n            display: inline-block;\r\n            color: orange;\r\n            border: 1px solid orange;\r\n            font-size: .6rem;\r\n            line-height: .9rem;\r\n            height: 1.05rem;\r\n            padding: 0 .15rem;\r\n            border-radius: .15rem;\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/computeTime.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"compute_time\"},[_c('span',{staticClass:\"remain_time\",on:{\"click\":_vm.pay}},[_vm._v(\"\\n        \"+_vm._s(_vm.remainTime)+\"\\n    \")]),_vm._v(\" \"),(_vm.showAlert)?_c('alert-tip',{attrs:{\"alertText\":_vm.alertText},on:{\"closeTip\":function($event){_vm.showAlert = false}}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-364a9287\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/computeTime.vue\n// module id = 0xdQ\n// module chunks = 5","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-364a9287\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./computeTime.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./computeTime.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./computeTime.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-364a9287\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./computeTime.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-364a9287\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/computeTime.vue\n// module id = 6Q/n\n// module chunks = 5","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5a7d07e2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./order.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5a7d07e2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./order.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/order/order.vue\n// module id = 9zw/\n// module chunks = 5","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"order\"}},[_c('head-top',{attrs:{\"go-back\":\"true\",\"head-title\":\"订单列表\"}}),_vm._v(\" \"),_c('ul',{staticClass:\"order_ul\"},_vm._l((_vm.orderlist),function(order,index){return _c('li',{key:index,staticClass:\"order_li\"},[_c('img',{attrs:{\"src\":_vm.imgBaseUrl + order.restaurant_image_url}}),_vm._v(\" \"),_c('div',{staticClass:\"detail\",on:{\"click\":function($event){_vm.showDetail(order)}}},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"title\"},[_c('h4',{staticClass:\"name\"},[_c('span',{staticClass:\"ellipsis\"},[_vm._v(_vm._s(order.restaurant_name))]),_vm._v(\" \"),_c('svg',{staticClass:\"arrow_right\",attrs:{\"fill\":\"#333\"}},[_c('use',{attrs:{\"xlink:href\":\"#arrow-right\"}})])]),_vm._v(\" \"),_c('span',{staticClass:\"pay\"},[_vm._v(_vm._s(_vm.paymentStatus[index]))])]),_vm._v(\" \"),_c('h4',{staticClass:\"date\"},[_vm._v(_vm._s(order.formatted_created_at))])]),_vm._v(\" \"),_c('div',{staticClass:\"middle\"},[_c('ul',[_c('li',{staticClass:\"food_li\"},[_c('span',{staticClass:\"food_name ellipsis\"},[_vm._v(_vm._s(order.basket.group[0][0].name)+_vm._s(order.basket.group[0].length > 1 ? '等' + order.basket.group[0].length + '件商品' : ''))]),_vm._v(\" \"),_c('span',{staticClass:\"food_price\"},[_vm._v(\"￥\"+_vm._s(order.total_amount.toFixed(2)))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[(_vm.paymentStatus[index] == \"等待支付\")?_c('compute-time',{attrs:{\"time\":order.time_pass},on:{\"changePayment\":function($event){_vm.changePayment(index)}},nativeOn:{\"click\":function($event){$event.stopPropagation();}}}):_c('router-link',{staticClass:\"one_more\",attrs:{\"to\":{path: \"/shop\", query: {geohash: _vm.geohash, id: order.restaurant_id}},\"tag\":\"span\"},nativeOn:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"再来一单\")])],1)])])})),_vm._v(\" \"),_c('foot-guide',{attrs:{\"parent\":\"order\"}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a7d07e2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/order/order.vue\n// module id = IS37\n// module chunks = 5","<template>\r\n    <div id='order'>\r\n        <head-top go-back='true' head-title='订单列表'></head-top>\r\n\r\n        <ul class='order_ul'>\r\n            <li class='order_li' v-for='(order, index) in orderlist' :key='index'>             \r\n                <img :src='imgBaseUrl + order.restaurant_image_url'>\r\n                <div class='detail' @click=\"showDetail(order)\">\r\n                    <div class='top'>\r\n                        <div class='title'>\r\n                            <h4 class='name'>\r\n                                <span class='ellipsis'>{{order.restaurant_name}}</span>\r\n                                <svg class='arrow_right' fill='#333'>\r\n                                    <use xlink:href='#arrow-right'></use>\r\n                                </svg>\r\n                            </h4>\r\n                            <span class='pay'>{{paymentStatus[index]}}</span>\r\n                        </div>\r\n                        <h4 class='date'>{{order.formatted_created_at}}</h4>\r\n                    </div>\r\n                    <div class='middle'>\r\n                        <ul>\r\n                            <li class='food_li'>\r\n                                <span class='food_name ellipsis'>{{order.basket.group[0][0].name}}{{order.basket.group[0].length > 1 ? '等' + order.basket.group[0].length + '件商品' : ''}}</span>\r\n                                <span class='food_price'>￥{{order.total_amount.toFixed(2)}}</span>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class='bottom'>\r\n                        <compute-time :time='order.time_pass' v-if='paymentStatus[index] == \"等待支付\"' @changePayment='changePayment(index)' @click.native.stop></compute-time>\r\n                        <router-link class='one_more' :to='{path: \"/shop\", query: {geohash, id: order.restaurant_id}}' v-else tag='span' @click.native.stop>再来一单</router-link>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n\r\n        <foot-guide parent='order'></foot-guide>\r\n\r\n        <transition name='slide'>\r\n            <router-view></router-view>\r\n        </transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import headTop from '../../components/head/header';\r\n    import footGuide from '../../components/foot/footer';\r\n    import computeTime from '../../components/common/computeTime';\r\n    import { orderList } from '../../service/getData';\r\n    import { mapState, mapMutations } from 'vuex';\r\n    import {imgBaseUrl} from '../../config/env';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                orderlist: [],\r\n                imgBaseUrl,\r\n                paymentStatus: []\r\n            }\r\n        },\r\n        created() {\r\n            this.init();\r\n        },\r\n        components: {\r\n            headTop,\r\n            footGuide,\r\n            computeTime\r\n        },\r\n        computed: {\r\n            ...mapState([\r\n                'userInfo', 'geohash'\r\n            ])\r\n        },\r\n        methods: {\r\n            ...mapMutations([\r\n                'SAVE_ORDERDETAIL'\r\n            ]),\r\n            async init() {\r\n                if(this.userInfo){\r\n                    this.orderlist = await orderList(this.userInfo.user_id);\r\n                    this.paymentStatus = this.orderlist.map((item) => {\r\n                        return item.status_bar.title;\r\n                    })\r\n                }\r\n            },\r\n            changePayment(index) {\r\n                this.paymentStatus[index] = '支付超时';\r\n            },\r\n            showDetail(order) {\r\n                this.SAVE_ORDERDETAIL(order);\r\n                this.$router.push('order/orderDetail');\r\n            }\r\n        },\r\n        watch: {\r\n            userInfo() {\r\n                this.init();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang='scss' socped>\r\n    @import '../../style/mixin';\r\n\r\n    #order{\r\n        margin-bottom: 2rem;\r\n        padding-top: 1.9rem;\r\n        background: #f1f1f1;\r\n        p, span, h4{\r\n            font-family: Helvetica Neue,Tahoma,Arial;\r\n        }\r\n\r\n        .slide-enter, .slide-leave-to{\r\n            transform: translateX(2rem);\r\n            opacity: 0;\r\n        }\r\n        .slide-enter-active, .slide-leave-active{\r\n            transition: all .4s;\r\n        }\r\n\r\n        .order_ul{\r\n            .order_li{\r\n                background: #fff;\r\n                display: flex;\r\n                padding: .6rem .6rem 0;\r\n                margin-bottom: .5rem;\r\n                img{\r\n                    width: 2rem;\r\n                    height: 2rem;\r\n                    margin-right: .4rem;\r\n                }\r\n                .detail{\r\n                    flex: 1;\r\n                    .top{\r\n                        border-bottom: 1px solid #f1f1f1;\r\n                        .title{\r\n                            display: flex;\r\n                            justify-content: space-between;\r\n                            align-items: center;\r\n                            .name{\r\n                                font-size: .75rem;\r\n                                line-height: 1rem;\r\n                                display: flex;\r\n                                align-items: center;\r\n                                width: 9rem;                                \r\n                                .arrow_right{\r\n                                    width: .4rem;\r\n                                    height: .4rem;\r\n                                    fill: #ccc;\r\n                                    margin-left: .1rem;\r\n                                }\r\n                            }\r\n                            .pay{\r\n                                font-size: .6rem;\r\n                            }\r\n                        }\r\n                        .date{\r\n                            font-size: .6rem;\r\n                            color: #999;\r\n                            line-height: .6rem;\r\n                            margin-bottom: .4rem;\r\n                            margin-top: .1rem;\r\n                        }\r\n                    }\r\n                    .middle{\r\n                        padding: .5rem 0;\r\n                        border-bottom: 1px solid #f1f1f1;\r\n                        .food_li{\r\n                            display: flex;\r\n                            justify-content: space-between;\r\n                            align-items: center;\r\n                            .food_name{\r\n                                font-size: .6rem;\r\n                                line-height: .9rem;\r\n                                color: #666;\r\n                                width: 8rem;\r\n                            }\r\n                            .food_price{\r\n                                font-size: .6rem;\r\n                                line-height: .9rem;\r\n                                color: #f60;\r\n                                font-weight: 700;\r\n                            }\r\n                        }\r\n                    }\r\n                    .bottom{\r\n                        display: flex;\r\n                        flex-direction: row-reverse;\r\n                        padding: .5rem 0 .3rem 0;\r\n                        .one_more{\r\n                            padding: 0 .15rem;\r\n                            color: $blue;\r\n                            font-size: .6rem;\r\n                            line-height: .9rem;\r\n                            height: 1rem;\r\n                            border: .025rem solid $blue;\r\n                            border-radius: .15rem;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/order/order.vue"],"sourceRoot":""}