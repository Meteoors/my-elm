{"version":3,"sources":["webpack:///src/page/login/login.vue","webpack:///./src/page/login/login.vue","webpack:///./src/page/login/login.vue?6268"],"names":["__webpack_require__","_vuex","_getData","data","showPassword","userAccount","password","verification","verifyImg","userInfo","showAlert","alertText","created","this","getVerification","components","headTop","_header2","default","alertTip","_alert2","methods","_extends3","mapMutations","_this","_asyncToGenerator3","_regenerator2","mark","_callee","res","wrap","_context","prev","next","getVerify","sent","status","code","stop","changePasswordType","login","_this2","_callee2","_context2","abrupt","accountLogin","user_id","RECORD_USERINFO","$router","go","message","closeTip","Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_login_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_login_vue___default","n","__WEBPACK_IMPORT_KEY__","key","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_bec0876c_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_login_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","a","esExports","render","_vm","_h","$createElement","_c","_self","attrs","id","go-back","head-title","_v","staticClass","directives","name","rawName","expression","type","placeholder","domProps","on","input","$event","target","composing","class","change_to_text","click","trans_to_right","maxlength","src","to","_e","staticRenderFns"],"mappings":"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","file":"static/js/20.47a33be2c89f08a875e1.js","sourcesContent":["<template>\r\n    <div id='login'>\r\n        <head-top go-back='true' head-title='密码登录'></head-top>\r\n\r\n        <form class='login_form'>\r\n            <section class='input_container'>\r\n                <input type=\"text\" placeholder=\"账号\" v-model='userAccount'>    \r\n            </section>\r\n            <section class='input_container'>\r\n                <input v-if='!showPassword' type=\"password\" placeholder=\"密码\" v-model=\"password\">\r\n                <input v-else type=\"text\" placeholder=\"密码\" v-model=\"password\">\r\n                <div class='switch' :class='{change_to_text: showPassword}' @click='changePasswordType'>\r\n                    <span>ab</span>\r\n                    <span>...</span>\r\n                    <div class='circle' :class='{trans_to_right: showPassword}'></div>\r\n                </div>    \r\n            </section>\r\n            <section class='input_container verify_container'>\r\n                <input type=\"text\" placeholder=\"验证码\" maxlength=\"4\" v-model=\"verification\">\r\n                <div class='change_verify'>\r\n                    <img :src=\"verifyImg\">\r\n                    <div class='change_img' @click='getVerification'>\r\n                        <p>看不清</p>\r\n                        <p>换一张</p>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </form>\r\n\r\n        <p class='login_tips'>温馨提示：未注册过的账号，登录时将自动注册</p>\r\n        <p class='login_tips'>注册过的用户可凭账号密码登录</p>     \r\n\r\n        <div class='submit' @click='login'>登录</div>   \r\n\r\n        <router-link class='forget' to='/forget'>重置密码？</router-link>\r\n\r\n        <alert-tip v-if='showAlert' :alertText='alertText' @closeTip='closeTip'></alert-tip>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import headTop from '../../components/head/header'\r\n    import alertTip from '../../components/common/alert'\r\n    import {mapMutations} from 'vuex'\r\n    import { getVerify, accountLogin } from '../../service/getData';\r\n\r\n\r\n    export default {\r\n        data () {\r\n            return {\r\n                showPassword: false, //显示密码\r\n                userAccount: '',  //账号\r\n                password: '',  //密码\r\n                verification: '',  //验证码\r\n                verifyImg: '',  //验证码图片\r\n                userInfo: null,  //用户信息\r\n                showAlert: false, //显示提示\r\n                alertText: ''\r\n            }\r\n        },\r\n        created () {\r\n            this.getVerification()\r\n        },\r\n        components: {\r\n            headTop,\r\n            alertTip\r\n        },\r\n        methods: {\r\n            ...mapMutations([\r\n                'RECORD_USERINFO'\r\n            ]),\r\n            //获取验证码\r\n            async getVerification() {\r\n                let res = await getVerify();\r\n                if(res.status === 1){\r\n                    this.verifyImg = res.code;\r\n                }\r\n            },\r\n            //是否显示密码\r\n            changePasswordType() {\r\n                this.showPassword = !this.showPassword;\r\n            },\r\n            //账号登录\r\n            async login() {\r\n                if(!this.userAccount){\r\n                    this.alertText = '请输入账号';\r\n                    this.showAlert = true;\r\n                    return;\r\n                }else if(!this.password){\r\n                    this.alertText = '请输入密码';\r\n                    this.showAlert = true;\r\n                    return;\r\n                }else if(!this.verification){\r\n                    this.alertText = '请输入验证码';\r\n                    this.showAlert = true;\r\n                    return;\r\n                }\r\n\r\n                //获取用户信息,返回值正确将用户信息存入vuex，否则弹出提示框\r\n                // alert(this.userAccount + ',' + this.password + ',' + this.verification);\r\n                this.userInfo = await accountLogin(this.userAccount, this.password, this.verification);\r\n                if(!this.userInfo.user_id){  \r\n                    this.alertText = this.userInfo.message;\r\n                    this.showAlert = true;\r\n                    this.getVerification();\r\n                }else{\r\n                    this.RECORD_USERINFO(this.userInfo);\r\n                    this.$router.go(-1);\r\n                }\r\n            },\r\n            closeTip() {\r\n                this.showAlert = false;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n    @import '../../style/mixin';\r\n\r\n    #login{\r\n        padding-top: 2.5rem;\r\n        .login_form{\r\n            background: #fff;\r\n            .input_container{\r\n                display: flex;\r\n                justify-content: space-between;\r\n                padding: .6rem .8rem;\r\n                border-bottom: 1px solid #f1f1f1;\r\n                input{\r\n                    @include sc(.7rem, #666);\r\n                }\r\n                .switch{\r\n                    position: relative;\r\n                    height: .7rem;\r\n                    width: 2rem;\r\n                    background: #ccc;\r\n                    padding: 0 .2rem;\r\n                    border-radius: .5rem;\r\n                    justify-content: center;\r\n                    display: flex;\r\n                    span{\r\n                        margin-right: .2rem;\r\n                        color: #fff;\r\n                        font-size: .6rem;\r\n                        line-height: .6rem;\r\n                        transform: translateY(.05rem);\r\n                    }\r\n                    span:nth-of-type(2){\r\n                        margin-top: -.2rem;\r\n                        margin-right: 0;\r\n                        font-size: .8rem;\r\n                    }\r\n                    .circle{\r\n                        position: absolute;\r\n                        left: -.2rem;\r\n                        top: -.2rem;\r\n                        width: 1.2rem;\r\n                        height: 1.2rem;\r\n                        border-radius: 50%;\r\n                        background: #f1f1f1;\r\n                        transition: all .3s;\r\n                        z-index: 1; \r\n                    }\r\n                    .trans_to_right{\r\n                        transform: translateX(1.3rem);\r\n                    }\r\n                }\r\n                .change_to_text{\r\n                    background: #4cd964;\r\n                }\r\n            }\r\n            .verify_container{\r\n                height: 2.2rem;\r\n                .change_verify{\r\n                    display: flex;\r\n                    align-items: center;\r\n                    img{\r\n                        width: 3.5rem;\r\n                        height: 1.5rem;\r\n                        margin-right: .2rem;\r\n                    }\r\n                    .change_img{\r\n                        display: flex;\r\n                        flex-wrap: wrap;\r\n                        width: 2rem;\r\n                        justify-content: center;\r\n                        p{\r\n                            font-size: .6rem;\r\n                            color: #666;\r\n                        }\r\n                        p:nth-of-type(2){\r\n                            color: #3b95e9;\r\n                            margin-top: .2rem;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .login_tips{\r\n            padding: .4rem .6rem;\r\n            font-size: .6rem;\r\n            line-height: .5rem;\r\n            color: red;\r\n        }\r\n\r\n        .submit{\r\n            margin: 0 .5rem 1rem;\r\n            background: #4cd964;\r\n            line-height: 2rem;\r\n            height: 2rem;\r\n            font-size: .7rem;\r\n            text-align: center;\r\n            color: #fff;\r\n            border-radius: .15rem;\r\n        }\r\n\r\n        .forget{\r\n            float: right;\r\n            font-size: .6rem;\r\n            color: #3b95e9;\r\n            margin-right: .3rem;\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/login/login.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bec0876c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bec0876c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bec0876c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/login/login.vue\n// module id = QrVH\n// module chunks = 20","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login\"}},[_c('head-top',{attrs:{\"go-back\":\"true\",\"head-title\":\"密码登录\"}}),_vm._v(\" \"),_c('form',{staticClass:\"login_form\"},[_c('section',{staticClass:\"input_container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userAccount),expression:\"userAccount\"}],attrs:{\"type\":\"text\",\"placeholder\":\"账号\"},domProps:{\"value\":(_vm.userAccount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.userAccount=$event.target.value}}})]),_vm._v(\" \"),_c('section',{staticClass:\"input_container\"},[(!_vm.showPassword)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"text\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"switch\",class:{change_to_text: _vm.showPassword},on:{\"click\":_vm.changePasswordType}},[_c('span',[_vm._v(\"ab\")]),_vm._v(\" \"),_c('span',[_vm._v(\"...\")]),_vm._v(\" \"),_c('div',{staticClass:\"circle\",class:{trans_to_right: _vm.showPassword}})])]),_vm._v(\" \"),_c('section',{staticClass:\"input_container verify_container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.verification),expression:\"verification\"}],attrs:{\"type\":\"text\",\"placeholder\":\"验证码\",\"maxlength\":\"4\"},domProps:{\"value\":(_vm.verification)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.verification=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"change_verify\"},[_c('img',{attrs:{\"src\":_vm.verifyImg}}),_vm._v(\" \"),_c('div',{staticClass:\"change_img\",on:{\"click\":_vm.getVerification}},[_c('p',[_vm._v(\"看不清\")]),_vm._v(\" \"),_c('p',[_vm._v(\"换一张\")])])])])]),_vm._v(\" \"),_c('p',{staticClass:\"login_tips\"},[_vm._v(\"温馨提示：未注册过的账号，登录时将自动注册\")]),_vm._v(\" \"),_c('p',{staticClass:\"login_tips\"},[_vm._v(\"注册过的用户可凭账号密码登录\")]),_vm._v(\" \"),_c('div',{staticClass:\"submit\",on:{\"click\":_vm.login}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"forget\",attrs:{\"to\":\"/forget\"}},[_vm._v(\"重置密码？\")]),_vm._v(\" \"),(_vm.showAlert)?_c('alert-tip',{attrs:{\"alertText\":_vm.alertText},on:{\"closeTip\":_vm.closeTip}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bec0876c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/login/login.vue\n// module id = U6PI\n// module chunks = 20"],"sourceRoot":""}