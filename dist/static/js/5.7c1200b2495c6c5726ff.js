webpackJsonp([5],{"0YNm":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=a("ib+B"),r=(s=n)&&s.__esModule?s:{default:s};e.default={data:function(){return{countNum:900,showAlert:!1,alertText:""}},props:["time"],created:function(){this.countNum-=this.time,this.computeTime()},components:{alertTip:r.default},computed:{remainTime:function(){var t=Math.floor(this.countNum/60),e=this.countNum%60;return t<10&&(t="0"+t),e<10&&(e="0"+e),"去支付(还剩"+t+"分"+e+"秒)"}},methods:{computeTime:function(){var t=this;this.timer=setInterval(function(){t.countNum--,0==t.countNum&&(t.showAlert=!0,t.alertText="支付超时",clearInterval(t.timer),t.$emit("changePayment"))},1e3)},pay:function(){this.showAlert=!0,this.alertText="暂不开放支付接口"}}}},"0xdQ":function(t,e,a){"use strict";var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"compute_time"},[a("span",{staticClass:"remain_time",on:{click:t.pay}},[t._v("\n        "+t._s(t.remainTime)+"\n    ")]),t._v(" "),t.showAlert?a("alert-tip",{attrs:{alertText:t.alertText},on:{closeTip:function(e){t.showAlert=!1}}}):t._e()],1)},staticRenderFns:[]};e.a=s},"6Q/n":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("0YNm"),n=a.n(s);for(var r in s)"default"!==r&&function(t){a.d(e,t,function(){return s[t]})}(r);var i=a("0xdQ");var u=function(t){a("omth")},o=a("VU/8")(n.a,i.a,!1,u,"data-v-364a9287",null);e.default=o.exports},"9zw/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("zeXb"),n=a.n(s);for(var r in s)"default"!==r&&function(t){a.d(e,t,function(){return s[t]})}(r);var i=a("bSKe");var u=function(t){a("pJzH")},o=a("VU/8")(n.a,i.a,!1,u,null,null);e.default=o.exports},bSKe:function(t,e,a){"use strict";var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"order"}},[a("head-top",{attrs:{"go-back":"true","head-title":"订单列表"}}),t._v(" "),a("ul",{staticClass:"order_ul"},t._l(t.orderlist,function(e,s){return a("li",{key:s,staticClass:"order_li"},[a("img",{attrs:{src:t.imgBaseUrl+e.restaurant_image_url}}),t._v(" "),a("div",{staticClass:"detail"},[a("div",{staticClass:"top"},[a("div",{staticClass:"title"},[a("h4",{staticClass:"name"},[a("span",{staticClass:"ellipsis"},[t._v(t._s(e.restaurant_name))]),t._v(" "),a("svg",{staticClass:"arrow_right",attrs:{fill:"#333"}},[a("use",{attrs:{"xlink:href":"#arrow-right"}})])]),t._v(" "),a("span",{staticClass:"pay"},[t._v(t._s(t.paymentStatus[s]))])]),t._v(" "),a("h4",{staticClass:"date"},[t._v(t._s(e.formatted_created_at))])]),t._v(" "),a("div",{staticClass:"middle"},[a("ul",[a("li",{staticClass:"food_li"},[a("span",{staticClass:"food_name ellipsis"},[t._v(t._s(e.basket.group[0][0].name)+t._s(e.basket.group[0].length>1?"等"+e.basket.group[0].length+"件商品":""))]),t._v(" "),a("span",{staticClass:"food_price"},[t._v("￥"+t._s(e.total_amount.toFixed(2)))])])])]),t._v(" "),a("div",{staticClass:"bottom"},["等待支付"==t.paymentStatus[s]?a("compute-time",{attrs:{time:e.time_pass},on:{changePayment:function(e){t.changePayment(s)}}}):a("router-link",{staticClass:"one_more",attrs:{to:"/shop",tag:"span"}},[t._v("再来一单")])],1)])])})),t._v(" "),a("foot-guide",{attrs:{parent:"order"}})],1)},staticRenderFns:[]};e.a=s},omth:function(t,e){},pJzH:function(t,e){},zeXb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=f(a("Dd8w")),n=f(a("Xxa5")),r=f(a("exGp")),i=f(a("vGpu")),u=f(a("n5ZD")),o=f(a("6Q/n")),l=a("i84Q"),c=a("NYxO"),d=a("uaSg");function f(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{orderlist:[],imgBaseUrl:d.imgBaseUrl,paymentStatus:[]}},created:function(){var t=this;return(0,r.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.orderList)(t.userInfo.user_id);case 2:t.orderlist=e.sent,t.paymentStatus=t.orderlist.map(function(t){return t.status_bar.title});case 4:case"end":return e.stop()}},e,t)}))()},components:{headTop:i.default,footGuide:u.default,computeTime:o.default},computed:(0,s.default)({},(0,c.mapState)(["userInfo"])),methods:{changePayment:function(t){this.paymentStatus[t]="支付超时"}}}}});
//# sourceMappingURL=5.7c1200b2495c6c5726ff.js.map