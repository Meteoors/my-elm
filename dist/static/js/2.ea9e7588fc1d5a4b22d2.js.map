{"version":3,"sources":["webpack:///./src/components/common/loading.vue?1857","webpack:///./src/page/confirmOrder/confirmOrder.vue?e730","webpack:///src/components/common/loading.vue","webpack:///./src/components/common/loading.vue","webpack:///./src/page/confirmOrder/confirmOrder.vue","webpack:///./node_modules/core-js/library/fn/object/values.js","webpack:///src/page/confirmOrder/confirmOrder.vue","webpack:///./node_modules/core-js/library/modules/es7.object.values.js","webpack:///./node_modules/babel-runtime/core-js/object/values.js","webpack:///./node_modules/core-js/library/modules/_object-to-array.js"],"names":["esExports","render","_h","this","$createElement","_c","_self","staticClass","style","backgroundPositionY","positionY","_v","attrs","xmlns","version","staticStyle","fill","stroke","cx","cy","rx","ry","staticRenderFns","__webpack_exports__","_vm","id","showLoading","_e","go-back","head-title","login","to","path","query","shopId","geohash","xlink:href","chosenAddress","_s","name","sex","phone","backgroundColor","tagColor","tag","address_detail","checkoutData","delivery_reach_time","cart","on","click","$event","showPayWay","_m","src","imgBaseUrl","restaurant_info","image_path","_l","groups","item","index","key","quantity","price","extra","deliver_amount","total","cart_id","remark","remarkText","confirmOrder","directives","rawName","value","expression","class","chosen","payWayId","choosePayWay","is_online_payment","description","alertText","closeTip","showAlert","data","created","_this","timer","setInterval","beforeDestroy","clearInterval","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_loading_vue__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_loading_vue___default","n","__WEBPACK_IMPORT_KEY__","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_15a434b6_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_loading_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","a","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_confirmOrder_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_confirmOrder_vue___default","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_060aea3b_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_confirmOrder_vue__","module","exports","values","_env","_vuex","_getData","shopCart","_asyncToGenerator3","default","_regenerator2","mark","_callee","wrap","_context","prev","next","$route","INIT_BUYCART","buyCart","initData","stop","components","headTop","_header2","alertTip","_alert2","loading","_loading2","computed","_extends3","mapState","input","inputText","str","_values2","forEach","type","substring","length","methods","mapMutations","_this2","_callee2","newArr","_context2","category","food","push","packing_fee","num","sku_id","specs","stock","alert","_stringify2","sent","message","sig","initAddress","_this3","_callee3","res","_context3","userInfo","user_id","getAddress","Array","CHOOSE_ADDRESS","SAVE_ADDRESS","isOnline","_this4","_callee4","_context4","abrupt","SAVE_ORDER","address_id","entities","need_validation","$router","success","ORDER_SUCCESS","watch","$export","$values","S","it","__esModule","getKeys","toIObject","isEnum","f","isEntries","O","keys","i","result","call"],"mappings":"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","file":"static/js/2.ea9e7588fc1d5a4b22d2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\"},[_c('div',{staticClass:\"load_img\",style:({backgroundPositionY: -(_vm.positionY%7)*2.5 + \"rem\"})}),_vm._v(\" \"),_c('svg',{staticClass:\"load_ellipse\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\"}},[_c('ellipse',{staticStyle:{\"fill\":\"#ddd\",\"stroke\":\"none\"},attrs:{\"cx\":\"26\",\"cy\":\"10\",\"rx\":\"26\",\"ry\":\"10\"}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15a434b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/loading.vue\n// module id = /Yz7\n// module chunks = 1 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"confirm_order\"}},[(!_vm.showLoading)?_c('section',[_c('head-top',{attrs:{\"go-back\":\"true\",\"head-title\":\"确认订单\",\"login\":\"true\"}}),_vm._v(\" \"),_c('router-link',{staticClass:\"address_wrapper\",attrs:{\"to\":{path: \"/confirmOrder/chooseAddress\", query:{shopId: _vm.shopId, geohash: _vm.geohash}}}},[_c('div',{staticClass:\"left\"},[_c('svg',{staticClass:\"location\"},[_c('use',{attrs:{\"xlink:href\":\"#location\"}})]),_vm._v(\" \"),(!_vm.chosenAddress)?_c('div',{staticClass:\"no_address\"},[_vm._v(\"请添加一个收货地址\")]):_c('div',{staticClass:\"address\"},[_c('header',[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.chosenAddress.name))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.chosenAddress.sex == 1 ? '先生':'女士'))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.chosenAddress.phone))])]),_vm._v(\" \"),_c('p',[(_vm.chosenAddress.tag)?_c('span',{staticClass:\"tag\",style:({backgroundColor: _vm.tagColor(_vm.chosenAddress.tag)})},[_vm._v(_vm._s(_vm.chosenAddress.tag))]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"detail ellipsis\"},[_vm._v(_vm._s(_vm.chosenAddress.address_detail))])])])]),_vm._v(\" \"),_c('svg',{staticClass:\"arrow_right\"},[_c('use',{attrs:{\"xlink:href\":\"#arrow-right\"}})])]),_vm._v(\" \"),_c('section',{staticClass:\"time_wrapper\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"送达时间\")]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('p',{staticClass:\"time\"},[_vm._v(\"尽快送达 | 预计 \"+_vm._s(_vm.checkoutData.delivery_reach_time))]),_vm._v(\" \"),(_vm.checkoutData.cart.is_deliver_by_fengniao)?_c('p',{staticClass:\"mode\"},[_vm._v(\"蜂鸟专送\")]):_vm._e()])]),_vm._v(\" \"),_c('section',{staticClass:\"pay_info\"},[_c('div',{staticClass:\"pay\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"支付方式\")]),_vm._v(\" \"),_c('div',{staticClass:\"more_type\",on:{\"click\":function($event){_vm.showPayWay = true}}},[_c('span',{staticClass:\"way\"},[_vm._v(\"在线支付\")]),_vm._v(\" \"),_c('svg',{staticClass:\"arrow_right\"},[_c('use',{attrs:{\"xlink:href\":\"#arrow-right\"}})])])]),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),_c('section',{staticClass:\"food\"},[_c('header',{staticClass:\"title\"},[_c('img',{attrs:{\"src\":_vm.imgBaseUrl + _vm.checkoutData.cart.restaurant_info.image_path}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.checkoutData.cart.restaurant_info.name))])]),_vm._v(\" \"),_c('ul',{staticClass:\"food_ul\"},_vm._l((_vm.checkoutData.cart.groups[0]),function(item,index){return _c('li',{key:index,staticClass:\"food_li\"},[_c('span',{staticClass:\"name ellipsis\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('span',{staticClass:\"num\"},[_vm._v(\"x \"+_vm._s(item.quantity))]),_vm._v(\" \"),_c('span',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(item.price))])])])})),_vm._v(\" \"),(_vm.checkoutData.cart.extra)?_c('div',{staticClass:\"price_item\"},[_c('span',{staticClass:\"ellipsis\"},[_vm._v(_vm._s(_vm.checkoutData.cart.extra[0].name))]),_vm._v(\" \"),_c('span',[_vm._v(\"￥ \"+_vm._s(_vm.checkoutData.cart.extra[0].price))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"price_item\"},[_c('span',[_vm._v(\"配送费\")]),_vm._v(\" \"),_c('span',[_vm._v(\"￥ \"+_vm._s(_vm.checkoutData.cart.deliver_amount))])]),_vm._v(\" \"),_c('div',{staticClass:\"total_price\"},[_c('span',{staticClass:\"ellipsis\"},[_vm._v(\"订单 ￥\"+_vm._s(_vm.checkoutData.cart.total))]),_vm._v(\" \"),_c('span',[_vm._v(\"待支付 ￥\"+_vm._s(_vm.checkoutData.cart.total))])])]),_vm._v(\" \"),_c('section',{staticClass:\"extra\"},[_c('router-link',{staticClass:\"item\",attrs:{\"to\":{path: \"/confirmOrder/remark\", query: {cart_id: _vm.checkoutData.id}}}},[_c('span',{staticClass:\"title\"},[_vm._v(\"订单备注\")]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('span',{staticClass:\"ellipsis\"},[_vm._v(_vm._s(_vm.remark ? _vm.remarkText : '口味、偏好等'))]),_vm._v(\" \"),_c('svg',{staticClass:\"arrow_right\"},[_c('use',{attrs:{\"xlink:href\":\"#arrow-right\"}})])])]),_vm._v(\" \"),_c('router-link',{staticClass:\"item\",attrs:{\"to\":\"/confirmOrder/invoice\"}},[_c('span',{staticClass:\"title\"},[_vm._v(\"发票抬头\")]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('span',[_vm._v(\"不需要开发票\")]),_vm._v(\" \"),_c('svg',{staticClass:\"arrow_right\"},[_c('use',{attrs:{\"xlink:href\":\"#arrow-right\"}})])])])],1),_vm._v(\" \"),_c('section',{staticClass:\"pay_bar\"},[_c('div',{staticClass:\"num\"},[_vm._v(\"待支付 ￥\"+_vm._s(_vm.checkoutData.cart.total))]),_vm._v(\" \"),_c('div',{staticClass:\"pay\",on:{\"click\":_vm.confirmOrder}},[_vm._v(\"确认下单\")])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide_up\"}},[_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPayWay),expression:\"showPayWay\"}],staticClass:\"pay_way\"},[_c('header',[_vm._v(\"支付方式\")]),_vm._v(\" \"),_c('ul',{staticClass:\"pay_ul\"},_vm._l((_vm.checkoutData.payments),function(item,index){return _c('li',{key:index,class:{chosen: _vm.payWayId == item.id},on:{\"click\":function($event){_vm.choosePayWay(item.is_online_payment, item.id)}}},[_c('span',[_vm._v(_vm._s(item.name)),(!item.is_online_payment)?_c('span',[_vm._v(_vm._s(item.description))]):_vm._e()]),_vm._v(\" \"),_c('svg',{staticClass:\"select\"},[_c('use',{attrs:{\"xlink:href\":\"#select\"}})])])}))])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPayWay),expression:\"showPayWay\"}],staticClass:\"cover\",on:{\"click\":function($event){_vm.showPayWay = false}}})])],1):_vm._e(),_vm._v(\" \"),_c('alert-tip',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAlert),expression:\"showAlert\"}],attrs:{\"alertText\":_vm.alertText},on:{\"closeTip\":function($event){_vm.showAlert= false}}}),_vm._v(\" \"),(_vm.showLoading)?_c('loading'):_vm._e(),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hongbao\"},[_c('span',[_vm._v(\"红包\")]),_vm._v(\" \"),_c('span',[_vm._v(\"暂时只在饿了么APP中支持\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-060aea3b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/confirmOrder/confirmOrder.vue\n// module id = 0IkW\n// module chunks = 2","<template>\r\n    <div class='loading'>\r\n        <div class='load_img' :style='{backgroundPositionY: -(positionY%7)*2.5 + \"rem\"}'></div>\r\n\r\n        <svg class=\"load_ellipse\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\r\n\t\t\t<ellipse cx=\"26\" cy=\"10\" rx=\"26\" ry=\"10\" style=\"fill:#ddd;stroke:none;\"></ellipse>\r\n\t\t</svg>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                positionY:0\r\n            }\r\n        },\r\n        created() {\r\n            this.timer = setInterval(() => {\r\n                this.positionY ++;\r\n            }, 600)\r\n        },\r\n        beforeDestroy() {\r\n            clearInterval(this.timer);\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n\r\n    @keyframes load{\r\n        0%    {transform: translateY(0px);}\r\n        50%   {transform: translateY(-50px);}\r\n        100%  {transform: translateY(0px);}\r\n    }\r\n    @keyframes ellipse {\r\n        0%    {transform: scale(1);}\r\n        50%   {transform: scale(.3);}\r\n        100%  {transform: scale(1);}\r\n    }\r\n\r\n    .loading{\r\n        position: fixed;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        width: 2.5rem;\r\n        height: 2.5rem;\r\n\r\n        .load_img{\r\n            position: relative;\r\n            width: 100%;\r\n            height: 100%;\r\n            background: url(../../images/icon_loading.png) no-repeat 0 0;\r\n            background-size: 2.5rem auto;\r\n            transform: translateY(0px);\r\n            z-index: 11;\r\n            animation: load .6s infinite ease-in-out;\r\n        }\r\n\r\n        .load_ellipse{\r\n            position: absolute;\r\n            top: 2.2rem;\r\n            left: 0;\r\n            z-index: 10;\r\n            width: 2.6rem;\r\n            height: 2rem;\r\n            animation: ellipse .6s infinite ease-in-out;\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/loading.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-15a434b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./loading.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./loading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./loading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-15a434b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./loading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-15a434b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/loading.vue\n// module id = 44dg\n// module chunks = 1 2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-060aea3b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./confirmOrder.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./confirmOrder.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./confirmOrder.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-060aea3b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./confirmOrder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-060aea3b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/confirmOrder/confirmOrder.vue\n// module id = AQf5\n// module chunks = 2","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/values.js\n// module id = TmV0\n// module chunks = 2","<template>\r\n    <div id='confirm_order'>\r\n        <section v-if='!showLoading'>\r\n            <head-top go-back='true' head-title='确认订单' login='true'></head-top>\r\n\r\n            <router-link :to='{path: \"/confirmOrder/chooseAddress\", query:{shopId, geohash}}' class='address_wrapper'>\r\n                <div class='left'>\r\n                    <svg class='location'>\r\n                        <use xlink:href='#location'></use>\r\n                    </svg>\r\n                    <div class='no_address' v-if='!chosenAddress'>请添加一个收货地址</div>\r\n                    <div v-else class='address'>\r\n                        <header>\r\n                            <span class='name'>{{chosenAddress.name}}</span>\r\n                            <span>{{chosenAddress.sex == 1 ? '先生':'女士'}}</span>\r\n                            <span>{{chosenAddress.phone}}</span>\r\n                        </header>\r\n                        <p>\r\n                            <span class='tag' v-if='chosenAddress.tag' :style='{backgroundColor: tagColor(chosenAddress.tag)}'>{{chosenAddress.tag}}</span>\r\n                            <span class='detail ellipsis'>{{chosenAddress.address_detail}}</span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <svg class='arrow_right'>\r\n                    <use xlink:href='#arrow-right'></use>\r\n                </svg>\r\n            </router-link>\r\n\r\n            <section class='time_wrapper'>\r\n                <div class='left'>送达时间</div>\r\n                <div class='right'>\r\n                    <p class='time'>尽快送达 | 预计 {{checkoutData.delivery_reach_time}}</p>\r\n                    <p v-if='checkoutData.cart.is_deliver_by_fengniao' class='mode'>蜂鸟专送</p>\r\n                </div>\r\n            </section>\r\n\r\n            <section class='pay_info'>\r\n                <div class='pay'>\r\n                    <span class='title'>支付方式</span>\r\n                    <div class='more_type' @click=\"showPayWay = true\">\r\n                        <span class='way'>在线支付</span>\r\n                        <svg class='arrow_right'>\r\n                            <use xlink:href='#arrow-right'></use>\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n                <div class='hongbao'>\r\n                    <span>红包</span>\r\n                    <span>暂时只在饿了么APP中支持</span>\r\n                </div>\r\n            </section>\r\n\r\n            <section class='food'>\r\n                <header class='title'>\r\n                    <img :src=\"imgBaseUrl + checkoutData.cart.restaurant_info.image_path\">\r\n                    <span>{{checkoutData.cart.restaurant_info.name}}</span>\r\n                </header>\r\n                <ul class='food_ul'>\r\n                    <li class='food_li' v-for='(item, index) in checkoutData.cart.groups[0]' :key='index'>\r\n                        <span class='name ellipsis'>{{item.name}}</span>\r\n                        <div class='right'>\r\n                            <span class='num'>x {{item.quantity}}</span>\r\n                            <span class='price'>￥{{item.price}}</span>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n\r\n                <div class='price_item' v-if='checkoutData.cart.extra'>\r\n                    <span class='ellipsis'>{{checkoutData.cart.extra[0].name}}</span>\r\n                    <span>￥ {{checkoutData.cart.extra[0].price}}</span>\r\n                </div>\r\n                <div class='price_item'>\r\n                    <span>配送费</span>\r\n                    <span>￥ {{checkoutData.cart.deliver_amount}}</span>\r\n                </div>\r\n\r\n                <div class='total_price'>\r\n                    <span class='ellipsis'>订单 ￥{{checkoutData.cart.total}}</span>\r\n                    <span>待支付 ￥{{checkoutData.cart.total}}</span>\r\n                </div>\r\n            </section>\r\n\r\n            <section class='extra'>\r\n                <router-link :to='{path: \"/confirmOrder/remark\", query: {cart_id: checkoutData.id}}' class='item'>\r\n                    <span class='title'>订单备注</span>\r\n                    <div class='detail'>\r\n                        <span class='ellipsis'>{{remark ? remarkText : '口味、偏好等'}}</span>\r\n                        <svg class='arrow_right'>\r\n                            <use xlink:href='#arrow-right'></use>\r\n                        </svg>\r\n                    </div>\r\n                </router-link>\r\n\r\n                <router-link to='/confirmOrder/invoice' class='item'>\r\n                    <span class='title'>发票抬头</span>\r\n                    <div class='detail'>\r\n                        <span>不需要开发票</span>\r\n                        <svg class='arrow_right'>\r\n                            <use xlink:href='#arrow-right'></use>\r\n                        </svg>\r\n                    </div>\r\n                </router-link>\r\n            </section>\r\n\r\n            <section class='pay_bar'>\r\n                <div class='num'>待支付 ￥{{checkoutData.cart.total}}</div>\r\n                <div class='pay' @click='confirmOrder'>确认下单</div>\r\n            </section>\r\n\r\n            <transition name='slide_up'>\r\n                <section class='pay_way' v-show='showPayWay'>\r\n                <header>支付方式</header>\r\n                <ul class='pay_ul'>\r\n                    <li :class='{chosen: payWayId == item.id}' @click='choosePayWay(item.is_online_payment, item.id)' v-for='(item, index) in checkoutData.payments' :key='index'>\r\n                        <span>{{item.name}}<span v-if='!item.is_online_payment'>{{item.description}}</span></span>\r\n                        <svg class='select'>\r\n                            <use xlink:href='#select'></use>\r\n                        </svg>\r\n                    </li>\r\n                </ul>\r\n                </section>\r\n            </transition>\r\n\r\n            <transition name='fade'>\r\n                <div class='cover' @click='showPayWay = false' v-show='showPayWay'></div>                \r\n            </transition>\r\n\r\n        </section>\r\n\r\n        <alert-tip @closeTip='showAlert= false' v-show='showAlert' :alertText='alertText'></alert-tip>\r\n\r\n        <loading v-if='showLoading'></loading>\r\n\r\n        <transition name='slide'>\r\n            <router-view></router-view>\r\n        </transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import headTop from '../../components/head/header';\r\n    import alertTip from '../../components/common/alert';\r\n    import loading from '../../components/common/loading';\r\n    import {imgBaseUrl} from '../../config/env';\r\n    import { mapState, mapMutations } from 'vuex';\r\n    import { checkoutData, getAddress, confirmOrder } from '../../service/getData';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                geohash: '',\r\n                shopId: null,\r\n                imgBaseUrl,\r\n                checkoutData: null,\r\n                showPayWay: false,\r\n                payWayId: 1,\r\n                shopCart: null,\r\n                showAlert: false,\r\n                alertText: '',\r\n                showLoading: true,\r\n            }\r\n        },\r\n        async created() {\r\n            this.geohash = this.$route.query.geohash;\r\n            this.shopId = this.$route.query.shopId;\r\n\r\n            this.INIT_BUYCART();    //从localStorage取出buyCart\r\n            this.shopCart = this.buyCart[this.shopId];  //取得当前购物车信息\r\n            \r\n            await this.initData();\r\n        },\r\n        components: {\r\n            headTop, alertTip, loading\r\n        },\r\n        computed: {\r\n            ...mapState([\r\n                'buyCart', 'userInfo', 'chosenAddress', 'remark'\r\n            ]),\r\n            remarkText() {\r\n                let remark = this.remark.remarkText;\r\n                let input = this.remark.inputText;\r\n                let str = '';\r\n                \r\n                Object.values(remark).forEach(type => {\r\n                    Object.values(type).forEach(tag => {\r\n                        str += `${tag}、`;\r\n                    });\r\n                });\r\n\r\n                if(input){\r\n                    str += input;\r\n                }else{\r\n                    str = str.substring(0, str.length - 1);\r\n                }\r\n\r\n                return str;\r\n            }\r\n        },\r\n        methods: {\r\n            ...mapMutations([\r\n                'INIT_BUYCART', 'CHOOSE_ADDRESS', 'SAVE_ORDER', 'ORDER_SUCCESS', 'SAVE_ADDRESS'\r\n            ]),\r\n            async initData() {\r\n                //checkout，需要newArr作为参数，遍历shopCart取出newArr\r\n                let newArr = [];\r\n                \r\n                Object.values(this.shopCart).forEach(category => {\r\n                    Object.values(category).forEach(item => {\r\n                        Object.values(item).forEach(food => {\r\n                            if(!food) return;\r\n                            newArr.push({\r\n                                attrs: [],\r\n                                extra: {},\r\n                                id: food.id,\r\n                                name: food.name,\r\n                                packing_fee: food.packing_fee,\r\n                                price: food.price,\r\n                                quantity: food.num,\r\n                                sku_id: food.id,\r\n                                specs: [food.specs],\r\n                                stock: food.stock\r\n                            })\r\n                        })\r\n                    })\r\n                })\r\n                alert(JSON.stringify(newArr));\r\n                this.checkoutData = await checkoutData(this.geohash, [newArr], this.shopId);\r\n                alert(this.checkoutData.message+this.checkoutData.sig)\r\n                await this.initAddress();\r\n                alert('finish!')\r\n                this.showLoading = false;                \r\n            },\r\n            async initAddress() {\r\n                alert('initAddress begin')\r\n                if(this.userInfo && this.userInfo.user_id){ //确保userInfo初始化成功后再请求数据（watch）\r\n                    alert('before getAddress')\r\n                    let res = await getAddress(this.userInfo.user_id);\r\n                    if(res instanceof Array && res.length){\r\n                        this.CHOOSE_ADDRESS(res[0]);\r\n                    }\r\n                    this.SAVE_ADDRESS(res);\r\n                }\r\n            },\r\n            //转换地址标签颜色\r\n            tagColor(tag) {\r\n                switch(tag){\r\n                    case '公司': return '#4cd964';\r\n                    case '学校': return '#3190e8';\r\n                }\r\n            },\r\n            //选择付款方式\r\n            choosePayWay(isOnline, id) {\r\n                if(isOnline){\r\n                    this.payWayId = id;\r\n                    this.showPayWay = false;\r\n                }\r\n            },\r\n            async confirmOrder() {\r\n                //用户未登录弹出提示框\r\n                if(!this.userInfo.user_id){\r\n                    this.showAlert = true;\r\n                    this.alertText = '请登录';\r\n                    return\r\n                //未选择收货地址弹出提示\r\n                }else if(!this.chosenAddress){\r\n                    this.showAlert = true;\r\n                    this.alertText = '请添加一个收货地址';\r\n                    return\r\n                }\r\n\r\n                //保存订单信息\r\n                this.SAVE_ORDER({\r\n                    user_id: this.userInfo.user_id,\r\n                    cart_id: this.checkoutData.cart_id,\r\n                    address_id: this.chosenAddress.id,\r\n                    description: this.remark,\r\n                    entities: this.checkoutData.cart.groups,\r\n                    geohash: this.geohash,\r\n                })\r\n\r\n                let res = await confirmOrder(this.userInfo.user_id, this.checkoutData.cart.id, this.chosenAddress.id, this.shopId, this.geohash, this.remark, this.checkoutData.cart.groups);\r\n                //第一次下单需要验证手机号\r\n                if(res.need_validation) {\r\n                    this.$router.push('/comfirmOrder/userValidation');\r\n                }else if(res.success){\r\n                    //成功下单记录后返回信息，跳转支付页\r\n                    this.ORDER_SUCCESS(res);    \r\n                    this.$router.push('/confirmOrder/payment');\r\n                }else{\r\n                    this.showAlert = true;\r\n                    this.alertText = res.message;\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            userInfo() {\r\n                this.initAddress();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n    @import '../../style/mixin';\r\n\r\n    #confirm_order{\r\n        position: fixed;\r\n        left: 0;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        z-index: 40;\r\n        background: #f5f5f5;\r\n        padding-top : 1.9rem;\r\n        padding-bottom: 3rem;\r\n        overflow: auto;\r\n        \r\n        .slide-enter, .slide_leave-to{\r\n            transform: translateX(2rem);\r\n            opacity: 0;\r\n        }\r\n        .slide-enter-active, .slide-leave-active{\r\n            transition: all .4s;\r\n        }\r\n\r\n        .slide_up-enter, .slide_up-leave-to{\r\n            opacity: 0;\r\n            transform: translateY(8rem);\r\n        }\r\n        .slide_up-enter-active, .slide_up-leave-active{\r\n            transition: all .4s;\r\n        }\r\n\r\n        .fade-enter, .fade-leave-to{\r\n            opacity: 0;\r\n        }\r\n        .fade-enter-active, .fade-leave-active{\r\n            transition: opacity .4s;\r\n        }\r\n\r\n        .address_wrapper{\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            padding: 0 .6rem;\r\n            background: url(../../images/address_bottom.png) left bottom repeat-x;\r\n            background-color: #fff;\r\n            min-height: 3.5rem;\r\n            background-size: auto .12rem;\r\n            .left{\r\n                flex: 1;\r\n                display: flex;\r\n                align-items: center;\r\n                svg{\r\n                    fill: $blue;\r\n                    height: .8rem;\r\n                    width: .8rem;\r\n                    margin-right: .4rem;\r\n                }\r\n                .no_address{\r\n                    font-size: .7rem;\r\n                    line-height: .7rem;\r\n                }\r\n                .address{\r\n                    header{\r\n                        font-size: .65rem;\r\n                        .name{\r\n                            font-size: .8rem;\r\n                            font-weight: 700;\r\n                        }\r\n                    }\r\n                    p{\r\n                        display: flex;\r\n                        align-items: center;\r\n                    }\r\n                    .tag{\r\n                        padding: 0 .2rem;\r\n                        font-size: .6rem;\r\n                        line-height: .7rem;\r\n                        height: .7rem;\r\n                        border-radius: .15rem;\r\n                        background: #ff5722;\r\n                        color: #fff;\r\n                        margin-right: .3rem;\r\n                    }\r\n                    .detail{\r\n                        font-size: .6rem;\r\n                        color: #777;\r\n                    }\r\n                }\r\n            }\r\n            svg{\r\n                height: .6rem;\r\n                width: .6rem;\r\n                fill: #999;\r\n            }\r\n        }\r\n\r\n        .time_wrapper{\r\n            margin-top: .4rem;\r\n            min-height: 4rem;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            border-left: 4px solid $blue;\r\n            background: #fff;\r\n            padding: 0 .7rem;\r\n            .left{\r\n                font-size: .8rem;\r\n                font-weight: 700;\r\n                padding-left: .3rem;\r\n            }\r\n            .right{\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: flex-end;\r\n                .time{\r\n                    font-size: .7rem;\r\n                    color: $blue;\r\n                }\r\n                .mode{\r\n                    background: $blue;\r\n                    margin-top: .5rem;\r\n                    color: #fff;\r\n                    font-size: .6rem;\r\n                    border-radius: .25rem;\r\n                    padding: .1rem .25rem;\r\n                }\r\n            }\r\n        }\r\n\r\n        .pay_info{\r\n            margin-top: .4rem;\r\n            background: #fff;\r\n            padding: 0 .7rem;\r\n            .pay{\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: space-between;\r\n                border-bottom: 1px solid #f5f5f5;\r\n                line-height: 2rem;\r\n                .title{\r\n                    font-size: .7rem;\r\n                    color: #666;\r\n                }\r\n                .more_type{\r\n                    display: flex;\r\n                    align-items: center;\r\n                    flex: 1;\r\n                    justify-content: flex-end;\r\n                    .way{\r\n                        font-size: .6rem;\r\n                        color: #aaa;\r\n                        margin-right: .2rem;\r\n                    }\r\n                    svg{\r\n                        fill: #ccc;\r\n                        height: .5rem;\r\n                        width: .5rem;\r\n                    }\r\n                }\r\n            }\r\n            .hongbao{\r\n                line-height: 2rem;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: space-between;\r\n                span{\r\n                    font-size: .6rem;\r\n                    color: #aaa;\r\n                }\r\n            }\r\n        }\r\n\r\n        .food{\r\n            margin-top: .4rem;\r\n            background: #fff;\r\n            header{\r\n                padding: .7rem;\r\n                border-bottom: 1px solid #f5f5f5;\r\n                display: flex;\r\n                align-items: center;\r\n                img{\r\n                    @include wh(1.2rem, 1.2rem);\r\n                    margin-right: .3rem;\r\n                }\r\n                span{\r\n                    font-size: .8rem;\r\n                    line-height: .8rem;\r\n                }\r\n            }\r\n\r\n            .food_ul{\r\n                margin-top: .5rem;\r\n                li{\r\n                    display: flex;\r\n                    justify-content: space-between;\r\n                    align-items: center;\r\n                    padding: 0 .7rem;\r\n                    line-height: 1.8rem;\r\n                    .name{\r\n                        font-size: .65rem;\r\n                        color: #666;\r\n                        width: 11rem;\r\n                    }\r\n                    .right{\r\n                        display: flex;\r\n                        align-items: center;\r\n                        justify-content: space-between;\r\n                        flex: 1;\r\n                        .num{\r\n                            font-size: .65rem;\r\n                            color: #f60;\r\n                        }\r\n                        .price{\r\n                            font-size: .65rem;\r\n                            color: #666;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            .price_item{\r\n                display: flex;\r\n                justify-content: space-between;\r\n                align-items: center;\r\n                padding: 0 .7rem;\r\n                line-height: 1.8rem;\r\n                span{\r\n                    font-size: .65rem;\r\n                    color: #666;\r\n                }\r\n                span:first-child{\r\n                    width: 11rem;\r\n                }\r\n            }\r\n\r\n            .total_price{\r\n                border-top: 1px solid #f5f5f5;\r\n                display: flex;\r\n                padding: 0 .7rem;\r\n                line-height: 2rem;\r\n                justify-content: space-between;\r\n                align-items: center;\r\n                span{\r\n                    flex: 1;\r\n                    color: #666;\r\n                    font-size: .65rem;\r\n                }\r\n                span:last-child{\r\n                    color: #f60;\r\n                    text-align: right;\r\n                }\r\n            }\r\n            \r\n        }\r\n\r\n        .extra{\r\n            background: #fff;\r\n            margin-top: .4rem;\r\n            padding: 0 .7rem;            \r\n            .item{\r\n                display: flex;\r\n                line-height: 2rem;\r\n                justify-content: space-between;\r\n                align-items: center;\r\n                .title{\r\n                    font-size: .7rem;\r\n                    color: #666;\r\n                }\r\n                .detail{\r\n                    display: flex;\r\n                    align-items: center;\r\n                    span{\r\n                        font-size: .6rem;\r\n                        color: #aaa;\r\n                        margin-right: .3rem;\r\n                        max-width: 3.6rem;\r\n                    }\r\n                    svg{\r\n                        fill: #ccc;\r\n                        @include wh(.5rem, .5rem);\r\n                    }\r\n                }\r\n            }\r\n            .item:first-child{\r\n                border-bottom: 1px solid #f5f5f5;\r\n            }\r\n        }\r\n\r\n        .pay_bar{\r\n            position: fixed;\r\n            bottom: 0;\r\n            left: 0;\r\n            width:100%;\r\n            height: 2rem;\r\n            display: flex;\r\n            div{\r\n                line-height: 2rem;\r\n                font-size: .75rem;\r\n                color: #fff;\r\n            }\r\n            .num{\r\n                padding-left: .7rem;\r\n                flex: 5;\r\n                background: #3c3c3c;\r\n            }\r\n            .pay{\r\n                text-align: center;\r\n                flex:2;\r\n                background: #56d176;\r\n            }\r\n        }\r\n\r\n        .pay_way{\r\n            position: fixed;\r\n            bottom: 0;\r\n            left: 0;\r\n            width: 100%;\r\n            background: #fff;\r\n            min-height: 8rem;\r\n            z-index: 101;\r\n            header{\r\n                line-height: 2rem;\r\n                text-align: center;\r\n                font-size: .7rem;\r\n                background: #fafafa;\r\n            }\r\n            .pay_ul{\r\n                padding: 0 .7rem;\r\n                li{\r\n                    display: flex;\r\n                    justify-content: space-between;\r\n                    align-items: center;\r\n                    line-height: 2.5rem;\r\n                    span{\r\n                        font-size: .7rem;\r\n                        color: #ccc;\r\n                    }\r\n                    svg{\r\n                        fill: #eee;\r\n                        @include wh(.8rem, .8rem);\r\n                    }\r\n                }\r\n                .chosen{\r\n                    span{\r\n                        color: #333;\r\n                    }\r\n                    svg{\r\n                        fill: #4cd964;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .cover{\r\n            position: fixed;\r\n            background: rgba(0,0,0,.3);\r\n            left: 0;\r\n            right: 0;\r\n            top: 0;\r\n            bottom: 0;\r\n            z-index: 100;\r\n        }\r\n\r\n\r\n        \r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/confirmOrder/confirmOrder.vue","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.object.values.js\n// module id = fZOM\n// module chunks = 2","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/values.js\n// module id = gRE1\n// module chunks = 2","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-to-array.js\n// module id = mbce\n// module chunks = 2"],"sourceRoot":""}